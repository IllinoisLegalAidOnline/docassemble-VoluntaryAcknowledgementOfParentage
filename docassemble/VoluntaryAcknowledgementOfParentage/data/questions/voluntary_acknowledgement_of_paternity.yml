metadata:
  title: Voluntary acknowledgement of parentage - VAP
  short title: VAP
  comment:  This Easy Form helps you prepare an Illinois Voluntary Acknowledgement of Parentage. If necessary, an Illinois Denial of Parentage will also be created. 
  authors:
    - Vivian McNaughton
    - Matt Newsted
---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ILAO:ilao-interview-framework.yml
  - docassemble.ILAO:shared-basic-questions.yml
---
objects:
  - birth_parent: ALIndividual
  - gen_parent: ALIndividual
  - child: ALIndividual
  - spouse: ALIndividual
  - user_witness: ALIndividual
  - user_denial_witness: ALIndividual
  - court_list: ALCourtLoader.using(file_name='docassemble.ILAO:data/sources/il_courts.xlsx')
---
code: |
  ilao_easy_form_title = "Voluntary acknowledgement of parentage - VAP"
  ilao_easy_form_url = "https://www.illinoislegalaid.org/legal-information/voluntary-acknowledgment-parentage-vap"
  github_user = 'IllinoisLegalAidOnline'
  github_repo_name = 'docassemble-VoluntaryAcknowledgementOfParentage'
---
sections:
  - section_intro: Start
  - section_vap: Parents
  - section_birth_parent: "Birth parent's information"
  - section_gen_parent: "Other parent's information"
  - section_child: "Child's information"
  - section_denial: Previous marriage (optional)
  - section_witnesses: Witnesses
  - section_download: Download
---
# interview order block
mandatory: True
code: |
  nav.set_section('section_intro')
  sees_nav_bar
  snapshot_start
  set_progress(5)
  how_to_use
  accept_terms
  vap_requirements
  more_vap_requirements
  nav.set_section('section_vap')
  user_role
  birth_parent.name.first
  gen_parent.name.first
  other_parent_relation
  if lets_qualify == False:
    qualify_kickout
  if child_born == False:
    not_yet_born
  else:
    if on_certificate == True:
      certificate_kickout
  if were_married == False:
    other_marriage
  else:
    married_kickout
  set_progress(20)
  nav.set_section('section_birth_parent')
  birth_parent.birth_date
  birth_parent.address.address
  birth_parent_ssn
  birth_parent.phone_number
  if birth_parent.changed_name:
    birth_parent.former_name
  if birth_parent.born_in_us == True:
    birth_parent.birth_state
  else:
    birth_parent.birth_country
  nav.set_section('section_gen_parent')
  set_progress(40)
  gen_parent.birth_date
  gen_parent.address.address
  gen_parent_ssn
  gen_parent.phone_number
  if gen_parent.born_in_us == True:
    gen_parent.birth_state
  else:
    gen_parent.birth_country
  nav.set_section('section_child')
  if child_born == True:
    child.name.first
    child.gender
    child.birth_date
    if in_hospital == True:
      hospital_name
    else:
      child.address.address
  nav.set_section('section_denial')
  set_progress(60)
  if other_marriage == True:
    denial_intro
    spouse.name.first
    if user_role == "birth_parent" or spouse_known:    
      marriage_date
      spouse.birth_date
      spouse.address.address
      spouse_ssn
      spouse.phone_number
      if spouse.born_in_us == True:
        spouse.birth_state
      else:
        spouse.birth_country 
  nav.set_section('section_witnesses')
  set_progress(80)
  witness_intro
  if user_witness_known == True:
    user_witness.name.first
    user_witness.address.address
    user_witness.phone_number
    if other_marriage == True and user_role == "birth_parent":
      denial_witness_intro
      if user_denial_witness_known == True:
        user_denial_witness.name.first
        user_denial_witness.address.address
        user_denial_witness.phone_number
  vap_witness_outro
  if other_marriage == True:
    denial_witness_outro
  nav.set_section('section_download')
  set_progress(100)
  forms_assembling
  snapshot_forms
  set_progress_to_100_once
  get_docs_screen
---
code: |
  stuff_to_snapshot = {
  	'start_time': str(current_datetime().format_datetime()),
  	'started_interview': True, 
  	}
  
  try:
    stuff_to_snapshot['ip_address'] = device(ip=True)
  except:
    pass
  
  stuff_to_snapshot['birth_parent_zip'] = showifdef('birth_parent.address.zip')
  
  stuff_to_snapshot['genetic_parent_zip'] = showifdef('gen_parent.address.zip')

  stuff_to_snapshot['downloaded_forms'] = showifdef('forms_assembling')
  
  stuff_to_snapshot['user_role'] = showifdef('user_role') 
  
  stuff_to_snapshot['user_witness_known'] = showifdef('user_witness_known') 
  
  store_variables_snapshot(
  	data=stuff_to_snapshot, persistent=True
  	)
  snapshot_interview_state = True
---
code: |
  snapshot_interview_state
  snapshot_start = True  
---
code: |
  reconsider('snapshot_interview_state')
  snapshot_forms = True
---
# this code block will ensure that when a user reaches the download screen, My Easy Forms will list it as 100% complete
code: |
    al_temp_metadata = get_interview_metadata(
      current_context().filename, current_context().session
    )
    al_temp_metadata["progress"] = 100
    set_current_session_metadata(al_temp_metadata)
    del(al_temp_metadata)
    set_progress_to_100_once = True
---
id: welcome
question: |
  Voluntary Acknowledgement of Parentage - VAP
subquestion: |
  Welcome to Illinois Legal Aid Online's **Voluntary Acknowledgement of Parentage - VAP** Easy Form.

  This program helps you create documents to tell the state who a child's parent is. The form it creates is a Voluntary Acknowledgement of Parentage, also called a VAP. This program can also make a Denial of Parentage form to tell the state that the birth parent's spouse or ex-spouse is not the child's parent.

  A VAP can be used by a partner in a same-sex relationship to acknowledge parentage of a child.
  
   Once legal parentage is established, the parent:

  * Will have all the rights and responsiblities of a legal parent, 
  * Can be added to the child's birth certificate, 
  * Will have the right to have a relationship with the child, and
  * Will be responsible for supporting the child financially.
  
  To learn more about acknowledging parentage, read ILAO's article, [**Voluntary acknowledgment of parentage basics**](https://www.illinoislegalaid.org/legal-information/parentage-basics).
field: sees_nav_bar
---
id: instructions
continue button field: how_to_use
question: |
  Instructions
subquestion: |
  You can use this program to create documents to tell the state who a child's parent is.

  Set aside 10 to 20 minutes to finish this program. You can log in and save your work to continue later. 

  After you download your form, you and the other parent will have to sign the VAP in front of witnesses. Then, you will have to file the VAP with the Illinois Department of Healthcare and Family Services (HFS).
  
  ${ collapse_template(help_example) }  

  Click on **{green words}** to learn what they mean. Some questions have a question mark in a circle ${ fa_icon("question-circle", color_css="#0DCAF0" ) } that also gives help.
---
template: help_example

subject: |

  **You can expand sections like this to show more information.**

content: |  

  This is an example of help. Click again to hide.
---
id: accept terms
question: |
  Terms of use
subquestion: |
  This program does not provide legal advice. It does not take the place of advice from a lawyer.

  Using this program does not create an attorney-client relationship between you and Illinois Legal Aid Online or its employees.

  ${ collapse_template(get_legal_help) }  

fields:
  - To continue, you must accept the [**terms of use**](https://www.illinoislegalaid.org/about/terms-of-use).: accept
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I accept the terms of use.
    validation messages:
      minlength: |
        You cannot continue unless you agree to the terms of use.
continue button field: accept_terms
---
template: get_legal_help
subject: |
  **What if I need legal advice?**
content: |  
  If you have questions or concerns about your legal problem and want legal advice you should talk to a lawyer.
 
  Use [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help) to find free or low-cost legal services in your area.
---
id: vap requirements
continue button field: vap_requirements
question: |
  Requirements
subquestion: |
  To use a Voluntary Acknowledgement of Parentage, you must be either a:
  
  * **{Birth parent}** helping the other parent of your child to acknowledge parentage, or
  * **{Genetic or intended parent}** seeking to acknowledge that you are the parent of a child.
  
  To complete this program, you will need to know:

  * Both parents' address, birth date, and birth place, and
  * The child's name and birth date.

  If the child was born by **{surrogacy}**, you cannot use a Voluntary Acknowledgment of Parentage. If the person who was pregnant with the child was not intended to be the child's parent, you should not use this program. You may need to [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help).
terms:
  - Birth parent: |
      The birth parent is the parent who gave birth to the child.
  - Genetic or intended parent: |
      A genetic parent is the biological parent who did not give birth to the child. An intended parent is someone who was intended to be the parent of a child born through assisted reproduction.
  - surrogacy: |
      Surrogacy is when someone gets pregnant and gives birth on behalf of another couple or someone else.
---
id: more vap requirements
continue button field: more_vap_requirements
question: |
  Additional requirements
subquestion: |
  If the child's birth parent was married to someone else when the child was conceived or born, you will need their spouse or ex-spouse to sign a Denial of Parentage to say they are not the child's parent. If they do not sign a Denial of Parentage, they are presumed to be the child's parent.
  
  For the Denial of Parentage, you will need to know:
    
  * The birth parent's spouse or ex-spouse's address, birth date, and birth place, and
  * The date of their marriage. 
  
  **Note:** This program can only be used if both the **{birth parent}** and the **{genetic or intended parent}** agree and can sign the forms. If the birth parent was married within 300 days of the child's birth, their spouse or ex-spouse must also agree. If the parents do not agree, you must ask a court to establish parentage. 
  
  To learn more, read ILAO's article about [**starting a court case to establish parentage**](https://www.illinoislegalaid.org/legal-information/starting-case-parentage-court).
terms:
  - birth parent: |
      The birth parent is the parent who gave birth to the child.
  - genetic or intended parent: |
      A genetic parent is the biological parent who did not give birth to the child. An intended parent is someone who was intended to be the parent of a child born through assisted reproduction.
---
id: user role
question: |
  Did you give birth to the child?
subquestion: |
  If you are currently pregnant with the child, click **Yes**.

  ${collapse_template(surrogacy_collapse)}
fields: 
  - no label: user_role
    input type: radio
    choices:
      - "Yes, I gave birth to the child. I am filling out these forms for the child's other parent to sign.": birth_parent
      - "I am the other parent of the child. I want to declare parentage of this child.": gen_parent
---
template: surrogacy_collapse
subject: |
  **Children born by surrogacy**
content: |
  If the child was born by surrogacy, you cannot use a Voluntary Acknowledgment of Parentage.

  You may need to [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help).
---
id: genetic parent name
question: |
  % if user_role == "gen_parent":
  What is your name?
  % else:
  What is the name of the child's other parent?
  % endif
fields:
  - First: gen_parent.name.first
  - Middle: gen_parent.name.middle
    required: False
  - Last: gen_parent.name.last
  - Suffix: gen_parent.name.suffix
    required: False
    code: name_suffix()
---
id: other parent relation
question: |
  % if user_role == "birth_parent":
  How is ${gen_parent.name_full()} related to the child?
  % else:
  How are you are related to the child?
  % endif
subquestion: |
  % if user_role == "birth_parent":
  **Note:** If you are not sure ${gen_parent.name_full()} is the child's parent, you may want to get a paternity test. Read ILAO's [**article about paternity tests**](https://www.illinoislegalaid.org/legal-information/paternity-test-basics).
  % else:
  **Note:** If you are not sure you are the child's parent, you may want to get a paternity test. Read ILAO's [**article about paternity tests**](https://www.illinoislegalaid.org/legal-information/paternity-test-basics).
  % endif
fields:
  - no label: other_parent_relation
    input type: radio
    choices:
      - They are the genetic parent.: gen
        show if: user_role == "birth_parent"
      - The child was born by assisted reproduction and they were the intended parent.: intend
        show if: user_role == "birth_parent"
        help: |
          **Assisted reproduction** is a way to cause pregnancy without sex or genetic material from the intended parent.
       
          Artificial insemination, sperm donation, egg donation, embryo donation, and in vitro fertilization are all assisted reproduction.
      - I am the genetic parent.: gen
        show if: user_role == "gen_parent"
      - The child was born by assisted reproduction and I was the intended parent .: intend
        show if: user_role == "gen_parent"
        help: |
          **Assisted reproduction** is a way to cause pregnancy without sex or genetic material from the intended parent.
       
          Artificial insemination, sperm donation, egg donation, embryo donation, and in vitro fertilization are all assisted reproduction.
terms:
  - assisted reproduction: |
      **Assisted reproduction** is a way to cause pregnancy without sex. 
       
      Artificial insemination, sperm donation, egg donation, embryo donation, and in vitro fertilization are all assisted reproduction.
---
id: uncertain kickout
event: uncertain_kickout
question: |
  Sorry
subquestion: |
  You should only use this program if you are certain you know who the child's parent is.
  
  A paternity test can help you figure out who the genetic parent of the child is. [**Read more about paternity tests**](https://www.illinoislegalaid.org/legal-information/paternity-test-basics).
buttons:
  - Exit: exit
  - Restart: restart
---
id: married kickout
event: married_kickout
question: |
  Sorry
subquestion: |
  You should not use this program if you are married to or in a civil union with ${other_name}.
  
  If you were married when the child was born or conceived, you should contact the [**Illinois Department of Public Health to correct the child's birth certificate**](https://dph.illinois.gov/topics-services/birth-death-other-records/birth-records/correct-birth-certificate.html).
  
  If you married after the child was born, you should go through the legitimation process. Read more about [**legitimation from the Illinois Department of Public Health**](https://dph.illinois.gov/topics-services/birth-death-other-records/birth-records/legitimation.html).
buttons:
  - Exit: exit
  - Restart: restart
---
id: birth parent name
question: |
  % if user_role == "birth_parent":
  What is your name?
  % else:
  Who is the birth parent of the child?
  % endif
subquestion: |
  % if user_role != "birth_parent":
  This is the person who gave birth to the child.
  % endif
fields:
  - First: birth_parent.name.first
  - Middle: birth_parent.name.middle
    required: False
  - Last: birth_parent.name.last
  - Suffix: birth_parent.name.suffix
    required: False
    code: name_suffix()
---
id: any spouse knowledge
question: |
  Do you have information about ${spouse.name_full()}?
subquestion: |
  The Denial of Parentage form can include their name, address, phone number, social security number, and birthplace.
fields:
  - no label: spouse_known
    datatype: yesnoradio
---
id: spouse name
question: |
  % if user_role == "birth_parent":
  What is the name of your spouse or ex-spouse?
  % else:
  What is the name of ${other_name}'s spouse or ex-spouse?
  % endif
fields:
  - First: spouse.name.first
  - Middle: spouse.name.middle
    required: False
  - Last: spouse.name.last
  - Suffix: spouse.name.suffix
    required: False
    code: name_suffix()
---
id: qualifications intro
question: |
  % if user_role == "birth_parent":
  Would you like to fill out the forms to declare that ${other_name} is the other parent of your child?
  % else:
  Would you like to declare parentage of your child?
  % endif
subquestion: |
  % if user_role == "birth_parent":
  Once legal parentage is established, ${other_name} will have all the rights of a legal parent, but also the responsibilities of a parent. ${other_name} will have the right to have a relationship with the child, but they will also be responsible for supporting the child financially. They will be able to add their name to the child's birth certificate.
  
  A Voluntary Acknowledgement of Parentage is very hard to reverse. You should only use one if you are certain you want ${other_name} to have the rights and responsibilities of a parent.
  % else:
  Once legal parentage is shown, you will have all the rights of a legal parent, but also the responsibilities of a parent. You will have the right to have a relationship with the child, but you will also be responsible for supporting the child financially. You will be able to add your name to the child's birth certificate.
  
  A Voluntary Acknowledgement of Parentage is very hard to reverse. You should only use one if you are certain you want to have the rights and responsibilities of a parent.
  % endif
fields:
  - no label: lets_qualify
    datatype: yesnoradio
---
id: qualify kickout
event: qualify_kickout
question: |
  Sorry
subquestion: |
  This program is only for someone who wants to declare legal parentage of a child.
buttons:
  - Exit: exit
  - Restart: restart
---
id: child birth
question: |
  Has the child been born yet?
fields:
  - no label: child_born
    datatype: yesnoradio
---
id: not yet born
continue button field: not_yet_born
question: |
  Form not valid until child is born  
subquestion: |
  The Voluntary Acknowledgment of Parentage (VAP) may be completed before your child is born, but is not valid until the child is born and the VAP is filed with the Illinios Department of Healthcare and Family Services (HFS).

  You will need to add information about your child's birth and name to the VAP after they are born. Or, if you would prefer, you can:
  
  * Have both parents add their information to the birth certificate, or
  * Ask for VAP forms at the hospital when the child is born.
---
depends on:
  - user_role
  - gen_parent.name.first
  - gen_parent.name.middle
  - gen_parent.name.last
  - gen_parent.name.suffix
  - birth_parent.name.first
  - birth_parent.name.middle
  - birth_parent.name.last
  - birth_parent.name.suffix
code: |
  if user_role == "birth_parent":
    other_name = gen_parent.name_full()
  else:
    other_name = birth_parent.name_full()
---
id: marriage check
question: |
  % if child_born:
  Were you married to or in a civil union with ${ other_name} when the child was born?
  % else:
  Will you be married to or in a civil union with ${other_name} when the child is born?
  % endif
subquestion: |
  % if user_role == "birth_parent":
  % if child_born == True:
  If you were married to or in a civil union with ${other_name} when the child was born, they are presumed to be the child's parent. 
  
  If the child was born within 300 days of the end of your marriage or civil union with ${other_name}, they are presumed to be the child's parent.
  
  You should select **Yes** if:
  
  * You and ${other_name} were married anytime in the 300 days leading up to the child's birth and
  * You were not married to anyone else during that time.
  % else:
  If you are married to or in a civil union with ${other_name} when the child is born, they will be presumed to be the child's parent. 
  
  If the child is born within 300 days of the end of your marriage or civil union with ${other_name}, they will be presumed to be the child's parent.
  % endif
  % else:
  % if child_born == True:
  If you were married to or in a civil union with ${ other_name} when the child was born, you are presumed to be the child's parent. 
  
  If the child was born within 300 days of the end of your marriage or civil union with ${other_name}, you are presumed to be the child's parent.
  
  You should select **Yes** if: 
  
  * You and ${other_name} were married anytime in the 300 days leading up to the child's birth, and
  * ${other_name} was not married to anyone else during that time.
  % else:
  If you are married to or in a civil union with ${other_name} when the child is born, you will be presumed to be the child's parent. 
  
  If the child is born within 300 days of the end of your marriage or civil union with ${other_name}, you will be presumed to be the child's parent.
  % endif
  % endif
fields:
  - no label: were_married
    datatype: yesnoradio
---
id: birth certificate
question: |
  % if child_born == True:
  % if user_role == "birth_parent":
  Is ${ other_name} listed on the child's birth certificate?
  % else:
  Are you listed on the child's birth certificate?
  % endif
  % else:
  % if user_role == "birth_parent":
  Will ${other_name} be listed on the child's birth certificate?
  % else:
  Will you be listed on the child's birth certificate?
  % endif
  % endif
fields:
  - no label: on_certificate
    datatype: yesnoradio
---
id: certificate kickout
event: certificate_kickout
question: |
  Sorry
subquestion: |
  % if child_born == True:
  If the child's parent is listed on the birth certificate, there is no need to file a Voluntary Acknowledgement of Parentage.
  % else:
  If the child's parent will be listed on the birth certificate, there is no need to file a Voluntary Acknowledgement of Parentage.
  % endif
buttons:
  - Exit: exit
  - Restart: restart
---
id: other marriage
question: |
  % if user_role == "birth_parent" and child_born:
  Were you married to or in a civil union with someone else when the child was born?
  % elif user_role != "birth_parent" and child_born:
  Was ${other_name} married to or in a civil union with someone else when the child was born?
  % elif user_role == "birth_parent" and  not child_born:
  Will you be married to or in a civil union with someone else when the child is born?
  % elif user_role != "birth_parent" and  not child_born:
  Will ${other_name} be married to or in a civil union with someone else when the child is born?
  % endif
subquestion: |
  % if child_born == True:
  % if user_role == "birth_parent":
  If you were married or in a civil union when the child was born, your spouse or ex-spouse must sign a Denial of Parentage form. You will get a completed copy of this form when you finish. It will need to be signed by you and your spouse or ex-spouse.
  
  If the child was born within 300 days of your marriage or civil union with somebody ending, they are presumed to be the child's parent. You should select **Yes** if you were married or in a civil union with someone other than ${other_name} anytime in the 300 days leading up to the child's birth.
  
  % else:
  If ${ other_name} was married or in a civil union when the child was born, the spouse or ex-spouse must fill out and sign a Denial of Parentage form. You will get a completed copy of this form when you finish. It will need to be signed by ${other_name}'s spouse or ex-spouse.
  
  If the child was born within 300 days of ${other_name}'s marriage or civil union with someone, they are presumed to be the child's parent. You should select **Yes** if ${other_name} was married or in a civil union with someone other than you anytime in the 300 days leading up to the child's birth.
  % endif
  % else:
  % if user_role == "birth_parent":
  If you are married or in a civil union within 300 days of the child's birth, your spouse or ex-spouse will need sign to a Denial of Parentage form. You will get a completed copy of this form when you finish, but it will need to be signed by you and your spouse or ex-spouse.
  % else:
  If ${ other_name} is married or in a civil union within 300 days of the child's birth, the spouse or ex-spouse will need to sign a Denial of Parentage form. You will get a completed copy of this form when you finish, but it will need to be signed by ${other_name}'s spouse or ex-spouse.
  % endif
  % endif
  
  ${collapse_template(dissolution_info)}
fields:
  - no label: other_marriage
    datatype: yesnoradio
---
template: dissolution_info
subject: |
  % if user_role == "birth_parent":
  **What if I have a court judgment saying my ex-spouse is not the child's parent?**
  % else:
  **What if ${other_name} has a court judgment saying their ex-spouse is not the child's parent?**
  % endif

content: |  
  % if user_role == "gen_parent":
  If the marriage or civil union has ended and you have a Judgment for Dissolution of Marriage that states ${other_name}'s ex-spouse is not the parent of the child, you can select **No**. However, you will need to include a copy of the Judgment for Dissolution of Marriage with the VAP.
  % else:
  If the marriage or civil union has ended and you have a Judgment for Dissolution of Marriage that states your ex-spouse is not the parent of your child, you can select **No**. However, you will need to include a copy of the Judgment for Dissolution of Marriage with the VAP.
  % endif
---
id: gen parent birthdate
question: |
  % if user_role == "birth_parent":
  What is ${other_name}'s date of birth?
  % else:
  What is your date of birth?
  % endif
fields:
  - Birth date: gen_parent.birth_date
    datatype: ThreePartsDate
    alMax: ${today().format("yyyy-MM-dd")}
    alMin: ${today().minus(years=120).format("yyyy-MM-dd")}
---
id: birth parent birthdate
question: |
  % if user_role == "gen_parent":
  What is ${other_name}'s date of birth?
  % else:
  What is your date of birth?
  % endif
fields:
  - Birth date: birth_parent.birth_date
    datatype: ThreePartsDate
    alMax: ${today().format("yyyy-MM-dd")}
    alMin: ${today().minus(years=120).format("yyyy-MM-dd")}
---
id: spouse birthdate
question: |
  What is ${spouse.name_full()}'s date of birth?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - Birth date: spouse.birth_date
    datatype: ThreePartsDate
    required: False
    alMax: ${today().format("yyyy-MM-dd")}
    alMin: ${today().minus(years=120).format("yyyy-MM-dd")}
---
id: gen parent address
question: |
  % if user_role == "birth_parent":
  What is ${other_name}'s address?
  % else:
  What is your address?
  % endif
fields:
  - Street address: gen_parent.address.address
    address autocomplete: True
  - Address line 2: gen_parent.address.unit
    required: False
  - City: gen_parent.address.city
  - State: gen_parent.address.state
    code: |
      states_list() 
  - ZIP code: gen_parent.address.zip
---
id: birth parent address
question: |
  % if user_role == "gen_parent":
  What is ${other_name}'s address?
  % else:
  What is your address?
  % endif
fields:
  - Street address: birth_parent.address.address
    address autocomplete: True
  - Address line 2: birth_parent.address.unit
    required: False
  - City: birth_parent.address.city
  - State: birth_parent.address.state
    code: |
      states_list() 
  - ZIP code: birth_parent.address.zip
---
id: spouse address
question: |
  What is ${spouse.name_full()}'s address?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - Street address: spouse.address.address
    address autocomplete: True
    required: False
  - Address line 2: spouse.address.unit
    required: False
  - City: spouse.address.city
    required: False
  - State: spouse.address.state
    required: False
    code: |
      states_list() 
  - ZIP code: spouse.address.zip
    required: False
---
id: gen parent ssn
continue button field: gen_parent_ssn
question: |
  % if user_role == "birth_parent":
  About ${other_name}'s social security number
  % else:
  About your social security number
  % endif
subquestion: |
  % if user_role == "birth_parent":
  ${other_name}'s social security number can be added to the VAP. This information is optional, but it helps identify them.
  % else:
  Your social security number can be added to the VAP. This information is optional, but it helps identify you.
  % endif
#fields:
# - Social security number: gen_parent_ssn
#   maxlength: 12
#   required: False
---
id: birth parent ssn
continue button field: birth_parent_ssn
question: |
  % if user_role == "gen_parent":
  About ${other_name}'s social security number
  % else:
  About your social security number
  % endif
subquestion: |
  % if user_role == "gen_parent":
  ${other_name}'s social security number can be added to the VAP. This information is optional, but it helps identify them.
  % else:
  Your social security number can be added to the VAP. This information is optional, but it helps identify you.
  % endif
---
id: spouse ssn
continue button field: spouse_ssn
question: |
  About ${spouse.name_full()}'s social security number
subquestion: |
  ${spouse.name_full()}'s social security number can be added to the Denial of Parentage. This information is optional, but it helps identify ${spouse.name_full()}.
#fields:
# - Social security number: spouse_ssn
#   maxlength: 12
#   required: False
---
id: gen parent phone
question: |
  % if user_role == "birth_parent":
  What is ${other_name}'s contact information?
  % else:
  What is your contact information?
  % endif
subquestion: |
  % if user_role == "birth_parent":
  This information is not required, but it can help the Illinois Department of Healthcare and Family Services contact ${other_name}.
  % else:
  This information is not required, but it can help the Illinois Department of Healthcare and Family Services contact you.
  % endif
fields:
  - Phone number: gen_parent.phone_number
    datatype: al_international_phone
    required: False
  - Email address: gen_parent.email    
    datatype: email
    required: False
---
id: birth parent phone
question: |
  % if user_role == "gen_parent":
  What is ${other_name}'s contact information?
  % else:
  What is your contact information?
  % endif
subquestion: |
  % if user_role == "birth_parent":
  This information is not required, but it can help the Illinois Department of Healthcare and Family Services contact you.
  % else:
  This information is not required, but it can help the Illinois Department of Healthcare and Family Services contact ${other_name}.
  % endif
fields:
  - Phone number: birth_parent.phone_number
    datatype: al_international_phone
    required: False
  - Email address: birth_parent.email    
    datatype: email
    required: False
---
id: spouse phone
question: |
  What is ${spouse.name_full()}'s contact information?
subquestion: |
  This information is not required, but it can help the Illinois Department of Healthcare and Family Services contact ${spouse.name_full()}.
fields:
  - Phone number: spouse.phone_number
    datatype: al_international_phone
    required: False
  - Email address: spouse.email    
    datatype: email
    required: False
---
id: gen parent birth check
question: |
  % if user_role == "birth_parent":
  Was ${ other_name} born in the United States?
  % else:
  Were you born in the United States?
  % endif
fields:
  - no label: gen_parent.born_in_us
    datatype: yesnoradio
---
id: birth parent birth check
question: |
  % if user_role == "gen_parent":
  Was ${ other_name} born in the United States?
  % else:
  Were you born in the United States?
  % endif
fields:
  - no label: birth_parent.born_in_us
    datatype: yesnoradio
---
id: spouse birth check
question: |
  Was ${ spouse.name_full()} born in the United States?
fields:
  - no label: spouse.born_in_us
    datatype: yesnomaybe
---
id: gen parent us birthplace
question: |
  % if user_role == "birth_parent":
  Where was ${ other_name } born?
  % else:
  Where were you born?
  % endif
fields:
  - City: gen_parent.birth_city
    maxlength: 30
  - State: gen_parent.birth_state
    code: |
      states_list() 
---
id: birth parent us birthplace
question: |
  % if user_role == "gen_parent":
  Where was ${ other_name } born?
  % else:
  Where were you born?
  % endif
fields:
  - City: birth_parent.birth_city
    maxlength: 30
  - State: birth_parent.birth_state
    code: |
      states_list() 
---
id: spouse us birthplace
question: |
  Where was ${ spouse.name_full() } born?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - City: spouse.birth_city
    required: False
    maxlength: 30
  - State: spouse.birth_state
    required: False
    code: |
      states_list() 
---
id: gen parent abroad birthplace
question: |
  % if user_role == "birth_parent":
  Where was ${ other_name } born?
  % else:
  Where were you born?
  % endif
fields:
  - City: gen_parent.birth_city
    maxlength: 30
  - Country: gen_parent.birth_country
    maxlength: 30
---
id: birth parent abroad birthplace
question: |
  % if user_role == "gen_parent":
  Where was ${ other_name } born?
  % else:
  Where were you born?
  % endif
fields:
  - City: birth_parent.birth_city
    maxlength: 30
  - Country: birth_parent.birth_country
    maxlength: 30
---
id: spouse abroad birthplace
question: |
  Where was ${ spouse.name_full() } born?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - City: spouse.birth_city
    maxlength: 30
    required: False
  - Country: spouse.birth_country
    required: False
    maxlength: 30
---
id: birth parent name change
question: |
  % if user_role == "birth_parent":
  Have you ever changed your last name after getting married?
  % else:
  HAs ${other_name} ever changed their last name after getting married?
  % endif
fields:
  - no label: birth_parent.changed_name
    datatype: yesnoradio
---
id: birth parent former name
question: |
  % if user_role == "birth_parent":
  What is your former last name?
  % else:
  What is ${other_name}'s former last name?
  % endif
subquestion: |
  % if user_role == "birth_parent":
  If you have changed your last name multiple names, you should enter what your last name was before your first marriage.
  % else:
  If they have changed their last name multiple names, you should enter what their last name was before their first marriage.
  % endif
fields:
  - Former name: birth_parent.former_name
    maxlength: 30
---
id: child name
question: |
  What is the child's full name?
fields:
  - First: child.name.first
  - Middle: child.name.middle
    required: False
  - Last: child.name.last
  - Suffix: child.name.suffix
    required: False
    code: name_suffix()
---
id: child gender
question: |
  What is the gender marker on ${ child.name_full()}'s birth certificate?
fields: 
  - no label: child.gender
    input type: radio
    choices:
      - Male
      - Female
      - X: X
        help: |
          Illinois allows birth certificates to list X as a gender marker. If you select X on this question, an "X" option will be added to the VAP form.
---
id: child birth date
question: |
  What is ${child.name_full()}'s date of birth?
fields:
  - Birth date: child.birth_date
    datatype: ThreePartsDate
    alMax: ${today().format("yyyy-MM-dd")}
    alMin: ${birth_parent.birth_date.format("yyyy-MM-dd")}
---
id: hospital check
question: |
  Was ${child.name_full()} born in a hospital?
fields:
  - no label: in_hospital
    datatype: yesnoradio
---
#I have not implemented the county list from other programs because this county is not necessarily in Illinois. I have also used the child.address data to store the child's birthplace location. child.address refers to the child's birthplace.
id: child hospital address
question: |
  Where was ${child.name_full()} born?
fields:
  - Hospital name: hospital_name
    maxlength: 30
  - City: child.address.city
    maxlength: 30
  - County: child.address.county
    maxlength: 30
  - State: child.address.state
    code: |
      states_list() 
---
id: child other birthplace address
question: |
  Where was ${child.name_full()} born?
fields:
  - Street address: child.address.address
    address autocomplete: True
  - Address line 2: child.address.unit
    required: False
  - City: child.address.city
  - County: child.address.county
  - State: child.address.state
    code: |
      states_list()
---
id: denial intro
continue button field: denial_intro
question: |
  Denial of Parentage
subquestion: |
  % if user_role == "birth_parent":
  Before you can file your forms, you and your spouse or ex-spouse need to sign a Denial of Parentage form.
  
  You will need to know your spouse or ex-spouse's address, their birth date and place of birth, and the date when you were married. If you do not enter this information now, you will have to add it to the Denial of Parentage form before you mail the forms to the state.
  
  If your spouse or ex-spouse has previously signed a VAP saying they are the parent of the child they cannot sign a Denial of Parentage. If that is the case, you may need to [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help).
  % else:
  Before you can file your forms, ${other_name} and their spouse or ex-spouse need to sign a Denial of Parentage form.
  
  You will need to know ${other_name}'s spouse or ex-spouse's name, address, their birth date and place of birth, and the date when they and ${other_name} were married. If you do not enter this information now, you will have to add it to the Denial of Parentage form before you mail the forms to the state.
  
  If ${other_name}'s spouse or ex-spouse has previously signed a VAP saying they are the parent of the child they cannot sign a Denial of Parentage. If that is the case, you may need to [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help).
  % endif
---
id: marriage date
question: |
  % if user_role == "birth_parent":
  When did you and ${ spouse.name_full()} marry or enter into a civil union?
  % else:
  When did ${other_name} and ${ spouse.name_full()} marry or enter into a civil union?
  % endif
subquestion: |
  % if user_role != "birth_parent":
  If you do not know, leave this question blank.
  % endif
fields:
  - Date: marriage_date
    datatype: ThreePartsDate
    required: False
    alMin: ${birth_parent.birth_date.format("yyyy-MM-dd")}
    alMax: ${ today().format("yyyy-MM-dd") }
---
id: witness intro
continue button field: witness_intro
question: |
  Witness signatures required
subquestion: |
  You will need someone to witness you and ${ other_name } sign the Voluntary Acknowledgement of Parentage form.
  
  % if other_marriage == True:
  % if spouse.name_full() != "":
  The witness must be an adult age 18 or older but cannot be you, ${other_name}, or ${spouse.name_full()}.
  % else:
  The witness must be an adult age 18 or older but cannot be you, ${other_name}, or the spouse or ex-spouse signing the Denial of Parentage.
  % endif
  % else:
  The witness must be an adult age 18 or older but cannot be you or ${other_name}.
  % endif
  
  You do not have to sign at the same time as ${other_name }.

---
template: witness_info
subject: |
  **Who can be a witness?**
content: |
  % if other_marriage == True:
  % if spouse.name_full() != "":
  The witness must be an adult age 18 or older but cannot be you, ${other_name}, or ${spouse.name_full()}.
  % else:
  The witness must be an adult age 18 or older but cannot be you, ${other_name}, or the spouse or ex-spouse signing the Denial of Parentage.
  % endif
  % else:
  The witness must be an adult age 18 or older but cannot be you, or ${other_name}.
  % endif
---
id: user witness known
question: |
  Do you know who will witness your signature?
fields:
  - no label: user_witness_known
    datatype: yesnoradio
---
id: user denial witness known
question: |
  Do you know who will witness your signature of the Denial of Parentage?
fields:
  - no label: user_denial_witness_known
    datatype: yesnoradio
---
id: user witness name
question: |
  Who will witness your signature of the Voluntary Acknowledgement of Parentage?
fields:
  - First: user_witness.name.first
  - Middle: user_witness.name.middle
    required: False
  - Last: user_witness.name.last
  - Suffix: user_witness.name.suffix
    required: False
    code: name_suffix()
---
id: user denial witness name
question: |
  Who will witness your signature of the Denial of Parentage?
fields:
  - First: user_denial_witness.name.first
  - Middle: user_denial_witness.name.middle
    required: False
  - Last: user_denial_witness.name.last
  - Suffix: user_denial_witness.name.suffix
    required: False
    code: name_suffix()
---
id: user witness address
question: |
  What is ${user_witness.name_full()}'s address?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - Street address: user_witness.address.address
    address autocomplete: True
    required: False
  - Address line 2: user_witness.address.unit
    required: False
  - City: user_witness.address.city
    required: False
  - State: user_witness.address.state
    required: False
    code: |
      states_list() 
  - ZIP code: user_witness.address.zip
    required: False
---
id: user denial witness address
question: |
  What is ${user_denial_witness.name_full()}'s address?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - Street address: user_denial_witness.address.address
    address autocomplete: True
    required: False
  - Address line 2: user_denial_witness.address.unit
    required: False
  - City: user_denial_witness.address.city
    required: False
  - State: user_denial_witness.address.state
    required: False
    code: |
      states_list() 
  - ZIP code: user_denial_witness.address.zip
    required: False
---
id: user witness phone
question: |
  What is ${user_witness.name_full()}'s phone number?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - Phone number: user_witness.phone_number
    datatype: al_international_phone
    required: False
---
id: user denial witness phone
question: |
  What is ${user_denial_witness.name_full()}'s phone number?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - Phone number: user_denial_witness.phone_number
    datatype: al_international_phone
    required: False
---
id: denial witness intro
continue button field: denial_witness_intro
question: |
  Denial of Parentage form witness
subquestion: |
  % if user_role == "birth_parent":
  You will also need someone to witness you and ${spouse.name_full()} sign the Denial of Parentage form.
  
  You do not have to sign the document at the same time as ${spouse.name_full()}.
  % else:
  You will also need someone to witness ${other_name} and ${spouse.name_full()} sign the Denial of Parentage form.
  
  ${other_name} does not have to sign the document at the same time as ${spouse.name_full()}.
  % endif
  
  % if spouse.name_full() != "":
  The witness must be an adult age 18 or older but cannot be you, ${other_name}, or ${spouse.name_full()}.
  % else:
  The witness must be an adult age 18 or older but cannot be you, ${other_name}, or the spouse or ex-spouse signing the Denial of Parentage.
  % endif
---
id: vap witness outro
continue button field: vap_witness_outro
question: |
  Reminder about VAP signatures
subquestion: |
  ${other_name} will also need someone to witness their signature of the Voluntary Acknowledgement of Parentage. That witness will have to add their name and contact information, then sign and date the form.

  **Note:** When you and ${other_name} sign the VAP, you will also need to check the box at the top of the form to note if you signed it in a hospital or somewhere else.
---
id: denial witness outro
continue button field: denial_witness_outro
question: |
  Reminder about Denial of Parentage signatures
subquestion: |
  % if user_role == "birth_parent":
  ${spouse.name_full()} will also need someone to witness their signature of the Denial of Parentage. That witness will have to add their name and contact information, then sign and date the form.
  % else:
  ${birth_parent.name_full()} and ${spouse.name_full()} will both need someone to witness their signatures of the Denial of Parentage. That witness will have to add their name and contact information, then sign and date the form.
  % endif
---
id: forms assembling
continue button field: forms_assembling
question: |
  Almost done
subquestion: |
  After you click **Next**, it may take a few moments to finish making your forms.
  
  ###### You do not need to refresh your screen. Hang in there!
  
  [NEWLINE]
---
id: get docs screen
event: get_docs_screen
question: |
  Download
subquestion: |
  Your forms are ready. View and download your form below. Click **:edit: Make changes** to fix any mistakes.
  
  % if other_marriage == True:
  Read the instructions, page 2 of the VAP, and page 2 of the Denial of Parentage to learn what to do next.
  % else:
  Read the instructions and page 2 of the VAP to learn what to do next.
  % endif
  
  ${ action_button_html(url_action('review_answers'), label=':edit: Make changes', color='success', size="md") }

  ${ al_user_bundle.download_list_html() }
 
  &nbsp;

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }
  
  Be sure to read the instructions and other important information on page 2 of your forms. You should make sure that everyone signing the forms understands what they do.
  
  **Note:** This program does not send your form. You will need to do this yourself.

  Thank you for using ILAO Easy Forms!
under: |
  % if not user_logged_in():
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} **Sign-in**](${url_of('login', next=interview_url())}) or [**create**](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif

 
  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }
---
generic object: ALDocumentBundle
template: x.send_email_template
subject: |
  Voluntary Acknowledgment of Parentage
content: |
  Your forms are attached.
  
  Thanks for using ILAO Easy Forms!
  
  [**Illinois Legal Aid Online**](https://www.illinoislegalaid.org)
---
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[instructions, vap_form, denial_of_parentage], filename="voluntary_acknowledgment_of_parentage.pdf", title="All forms")
---
attachment:
  - name: Voluntary Acknowledgement of Parentage
    variable name: vap_form[i]
    filename: vap_form
    pdf template file: vap_form.pdf
    skip undefined: True
    editable: True
    fields:
      - "child_name_first": ${ child.name.first }
      - "child_name_middle": ${ child.name.middle if child.name.middle != "" else ""}
      - "child_name_last": ${ child.name.last }
      - "child_name_suffix": ${ child.name.suffix if child.name.suffix != "" else ""}
      - "child_dob": ${ child.birth_date}
      - "child_is_male": ${ True if child.gender == "Male" else False}
      - "child_is_female": ${ True if child.gender == "Female" else False}
      - "child_address_one": |
          % if in_hospital == True:
          ${ hospital_name}
          % else:
          ${child.address.line_one(bare=True )}
          % endif
      - "child_city": ${child.address.city}
      - "child_state": ${child.address.state}
      - "child_county": ${end_in_county(child.address.county)}
      - "gen_parent_name_first": ${gen_parent.name.first}
      - "gen_parent_name_middle": ${gen_parent.name.middle if gen_parent.name.middle != "" else ""}
      - "gen_parent_name_last": ${gen_parent.name.last}
      - "gen_parent_name_suffix": ${gen_parent.name.suffix if gen_parent.name.suffix != "" else ""}
      - "gen_parent_birth_city": ${gen_parent.birth_city}
      - "gen_parent_birth_state": ${gen_parent.birth_state if gen_parent.born_in_us else ""}
      - "gen_parent_birth_country": ${ gen_parent.birth_country if gen_parent.born_in_us == False else ""}
      - "gen_parent_dob": ${gen_parent.birth_date}
      - "gen_parent_ssn": ${""}
      - "gen_parent_address_one": ${gen_parent.address.line_one(bare=True )}
      - "gen_parent_city": ${gen_parent.address.city}
      - "gen_parent_state": ${gen_parent.address.state}
      - "gen_parent_zip": ${gen_parent.address.zip}
      - "gen_parent_phone": ${phone_number_formatted(gen_parent.phone_number)}
      - "birth_parent_name_first": ${birth_parent.name.first}
      - "birth_parent_name_middle": ${birth_parent.name.middle}
      - "birth_parent_name_last": |
          % if birth_parent.name.suffix == "":
          ${birth_parent.name.last}
          % else:
          ${birth_parent.name.last} ${birth_parent.name.suffix}
          % endif
      - "birth_parent_former_surname": ${birth_parent.former_name if birth_parent.changed_name == True else ""}
      - "birth_parent_birth_city": ${birth_parent.birth_city}
      - "birth_parent_birth_state": ${birth_parent.birth_state if birth_parent.born_in_us else ""}
      - "birth_parent_birth_country": ${birth_parent.birth_country if birth_parent.born_in_us == False else ""}
      - "birth_parent_dob": ${birth_parent.birth_date}
      - "birth_parent_ssn": ${""}
      - "birth_parent_address_one": ${birth_parent.address.line_one(bare=True )}
      - "birth_parent_city": ${birth_parent.address.city}
      - "birth_parent_state": ${birth_parent.address.state}
      - "birth_parent_zip": ${birth_parent.address.zip}
      - "birth_parent_phone": ${phone_number_formatted(birth_parent.phone_number)}
      - "was_married": ${other_marriage}
      - "was_not_married": ${False if other_marriage == True else True}
      - "spouse_name_first": ${spouse.name.first}
      - "spouse_name_middle": ${spouse.name.middle}
      - "spouse_name_last": |
          % if spouse.name.suffix == "":
          ${spouse.name.last}
          % else:
          ${spouse.name.last} ${spouse.name.suffix}
          % endif
      - "gen_parent_witness_name": ${user_witness.name_full() if user_role == "gen_parent" else ""}
      - "gen_parent_witness_street": ${user_witness.address.line_one(bare=True) if user_role == "gen_parent" else ""}
      - "gen_parent_witness_city": ${user_witness.address.city if user_role == "gen_parent" else ""}
      - "gen_parent_witness_state": ${user_witness.address.state if user_role == "gen_parent" else ""}
      - "gen_parent_witness_zip": ${user_witness.address.zip if user_role == "gen_parent" else ""}
      - "gen_parent_witness_phone": ${phone_number_formatted(user_witness.phone_number) if user_role == "gen_parent" else ""}
      - "birth_parent_witness_name": ${user_witness.name_full() if user_role == "birth_parent" else ""}
      - "birth_parent_witness_street": ${user_witness.address.line_one(bare=True) if user_role == "birth_parent" else ""}
      - "birth_parent_witness_city": ${user_witness.address.city if user_role == "birth_parent" else ""}
      - "birth_parent_witness_state": ${user_witness.address.state if user_role == "birth_parent" else ""}
      - "birth_parent_witness_zip": ${user_witness.address.zip if user_role == "birth_parent" else ""}
      - "birth_parent_witness_phone": ${phone_number_formatted(user_witness.phone_number) if user_role == "birth_parent" else ""}
      - "x_check": ${ True if child.gender == "X" else False}
      - "x_text": ${ "X" if child.gender == "X" else ""}
      - "gen_parent_email": ${gen_parent.email}
      - "birth_parent_email": ${birth_parent.email}
---
attachment:
  - name: Denial of parentage
    variable name: denial_of_parentage[i]
    filename: denial_of_parentage
    pdf template file: denial_of_parentage.pdf
    skip undefined: True
    editable: True
    fields:
      - "child_name_first": ${ child.name.first }
      - "child_name_middle": ${ child.name.middle if child.name.middle != "" else ""}
      - "child_name_last": ${ child.name.last }
      - "child_name_suffix": ${ child.name.suffix if child.name.suffix != "" else ""}
      - "child_dob": ${ child.birth_date}
      - "child_is_male": ${ True if child.gender == "Male" else False}
      - "child_is_female": ${ True if child.gender == "Female" else False}
      - "child_address_one": |
          % if in_hospital == True:
          ${ hospital_name}
          % else:
          ${child.address.line_one(bare=True )}
          % endif
      - "child_address_city": ${child.address.city}
      - "child_address_state": ${child.address.state}
      - "child_address_county": ${end_in_county(child.address.county)}
      - "spouse_name_first": ${spouse.name.first}
      - "spouse_name_middle": ${spouse.name.middle}
      - "spouse_name_last": ${spouse.name.last}
      - "spouse_name_suffix": ${spouse.name.suffix if spouse.name.suffix != "" else ""}
      - "spouse_birth_city": ${spouse.birth_city}
      - "spouse_birth_state": ${spouse.birth_state if spouse.born_in_us else ""}
      - "spouse_birth_country": ${spouse.birth_country if not spouse.born_in_us else ""}
      - "spouse_dob": ${spouse.birth_date}
      - "spouse_ssn": ${""}
      - "spouse_address_one": ${spouse.address.line_one(bare=True )}
      - "spouse_city": ${spouse.address.city}
      - "spouse_state": ${spouse.address.state}
      - "spouse_zip": ${spouse.address.zip}
      - "spouse_phone": ${phone_number_formatted(spouse.phone_number)}
      - "birth_parent_name_first": ${birth_parent.name.first}
      - "birth_parent_name_middle": ${birth_parent.name.middle if birth_parent.name.middle != "" else ""}
      - "birth_parent_name_last": |
          % if birth_parent.name.suffix == "":
          ${birth_parent.name.last}
          % else:
          ${birth_parent.name.last} ${birth_parent.name.suffix}
          % endif
      - "birth_parent_former_surname": ${birth_parent.former_name if birth_parent.changed_name == True else ""}
      - "birth_parent_birth_city": ${birth_parent.birth_city}
      - "birth_parent_birth_state": ${birth_parent.birth_state if birth_parent.born_in_us else ""}
      - "birth_parent_birth_country": ${birth_parent.birth_country if not birth_parent.born_in_us else ""}
      - "birth_parent_dob": ${birth_parent.birth_date}
      - "birth_parent_ssn": ${""}
      - "birth_parent_address_one": ${birth_parent.address.line_one(bare=True )}
      - "birth_parent_city": ${birth_parent.address.city}
      - "birth_parent_state": ${birth_parent.address.state}
      - "birth_parent_zip": ${birth_parent.address.zip}
      - "birth_parent_phone": ${phone_number_formatted(birth_parent.phone_number)}
      - "marriage_date": ${marriage_date}
      - "was_married": ${other_marriage}
      - "was_not_married": ${False if other_marriage == True else True}
      - "spouse_name": ${spouse.name_full()}
      - "spouse_witness_name": ${""}
      - "spouse_witness_address": ${""}
      - "spouse_witness_phone": ${""}
      - "birth_parent_witness_name": ${user_denial_witness.name_full()}
      - "birth_parent_witness_street": ${user_denial_witness.address.line_one(bare=True) if user_role == "birth_parent" else ""}
      - "birth_parent_witness_city": ${user_denial_witness.address.city if user_role == "birth_parent" else ""}
      - "birth_parent_witness_state": ${user_denial_witness.address.state if user_role == "birth_parent" else ""}
      - "birth_parent_witness_zip": ${user_denial_witness.address.zip if user_role == "birth_parent" else ""}
      - "birth_parent_witness_phone": ${phone_number_formatted(user_denial_witness.phone_number) if user_role == "birth_parent" else ""}
      - "x_check": ${ True if child.gender == "X" else False}
      - "x_text": ${ "X" if child.gender == "X" else ""}
      - "spouse_email": ${spouse.email}
      - "birth_parent_email": ${birth_parent.email}
---
attachment:
  - name: instructions
    variable name: instructions[i]
    filename: vap_instructions
    docx template file: vap_instructions.docx
---
objects:
  - vap_form: ALDocument.using(title="Voluntary Acknowledgement of Parentage", filename="vap_form", enabled=True, has_addendum=False)
  - denial_of_parentage: ALDocument.using(title="Denial of Parentage", filename="denial_of_parentage", has_addendum=False)
  - instructions: ALDocument.using(title="Instructions", filename="vap_instructions", enabled=True, has_addendum=False)
---
code: |
  denial_of_parentage.enabled = False
  if other_marriage == True:
    denial_of_parentage.enabled = True  
---
id: review screen
event: review_answers
question: |
  Review screen
subquestion: |
  Edit your answers below.
review: 
  - Edit: user_role
    button: |
      **Which parent are you?**
      % if user_role == "gen_parent":
      The non-birth parent
      % else:
      The birth parent
      % endif
  - note: |
      <h4>Birth parent's information</h4>
  - Edit: birth_parent.name.first
    button: |
      % if user_role == "gen_parent":
      **The birth parent's name:**
      % else:
      **Your name:**
      % endif
      ${birth_parent.name_full()}
  - Edit: birth_parent.birth_date
    button: |
      % if user_role == "gen_parent":
      **${birth_parent.name_full()}'s date of birth:**
      % else:
      **Your date of birth:**
      % endif
      ${birth_parent.birth_date}
  - Edit: birth_parent.address.address
    button: |
      % if user_role == "gen_parent":
      **${birth_parent.name_full()}'s address:**
      % else:
      **Your address:**
      % endif
      ${birth_parent.address.on_one_line(bare=True)}
  - Edit: birth_parent_ssn
    button: |
      % if user_role == "gen_parent":
      **${birth_parent.name_full()}'s Social Security number:**
      % else:
      **Your Social Security number:**
      % endif
      ${birth_parent_ssn}
  - Edit: birth_parent.phone_number
    button: |
      % if user_role == "gen_parent":
      **${birth_parent.name_full()}'s contact information:**
      % else:
      **Your contact information:**
      % endif
      
      % if birth_parent.email != "":
      * Email: ${birth_parent.email}
      % else:
      * Email: None entered
      % endif
      % if birth_parent.phone_number != "":
      * Phone: ${phone_number_formatted(birth_parent.phone_number)}
      % else:
      * Phone: None entered
      % endif
  - Edit: birth_parent.changed_name
    button: |
      % if user_role == "birth_parent":
      **Have you ever changed your last name?**
      % else:
      **Has ${other_name} ever changed their last name?**
      % endif
      ${word(yesno(birth_parent.changed_name))}
  - Edit: birth_parent.former_name
    button: |
      % if user_role == "birth_parent":
      **What is your former last name?**
      % else:
      **What is ${birth_parent.name_full()}'s former last name?**
      % endif
      ${birth_parent.former_name}
    show if: birth_parent.changed_name
  - Edit: birth_parent.born_in_us
    button: |
      % if user_role == "gen_parent":
      **Was ${birth_parent.name_full()} born in the United States?**
      % else:
      **Were you born in the United States?**
      % endif
      ${word(yesno(birth_parent.born_in_us))}
  - Edit: birth_parent.birth_state
    button: |
      % if user_role == "gen_parent":
      **Where was ${ birth_parent.name_full() } born?**
      % else:
      **Where were you born?**
      % endif
      ${birth_parent.birth_city}, ${birth_parent.birth_state}
    show if: birth_parent.born_in_us
  - Edit: birth_parent.birth_country
    button: |
      % if user_role == "gen_parent":
      **Where was ${ birth_parent.name_full() } born?**
      % else:
      **Where were you born?**
      % endif
      ${birth_parent.birth_city}, ${birth_parent.birth_country}
    show if: birth_parent.born_in_us == False
  - note: |
      <h4>Other parent's information</h4>
  - Edit: gen_parent.name.first
    button: |
      % if user_role == "birth_parent":
      **The other parent's name:**
      % else:
      **Your name:**
      % endif
      ${gen_parent.name_full()}
  - Edit: gen_parent.birth_date
    button: |
      % if user_role == "birth_parent":
      **${gen_parent.name_full()}'s date of birth:**
      % else:
      **Your date of birth:**
      % endif
      ${gen_parent.birth_date}
  - Edit: gen_parent.address.address
    button: |
      % if user_role == "birth_parent":
      **${gen_parent.name_full()}'s address:**
      % else:
      **Your address:**
      % endif
      ${gen_parent.address.on_one_line(bare=True)}
  - Edit: gen_parent_ssn
    button: |
      % if user_role == "birth_parent":
      **${gen_parent.name_full()}'s Social Security number:**
      % else:
      **Your Social Security number:**
      % endif
      ${gen_parent_ssn}
  - Edit: gen_parent.phone_number
    button: |
      % if user_role == "birth_parent":
      **${gen_parent.name_full()}'s contact information:**
      % else:
      **Your contact information:**
      % endif
      
      % if gen_parent.email != "":
      * Email: ${gen_parent.email}
      % else:
      * Email: None entered
      % endif
      % if gen_parent.phone_number != "":
      * Phone: ${phone_number_formatted(gen_parent.phone_number)}
      % else:
      * Phone: None entered
      % endif
  - Edit: gen_parent.born_in_us
    button: |
      % if user_role == "birth_parent":
      **Was ${gen_parent.name_full()} born in the United States?**
      % else:
      **Were you born in the United States?**
      % endif
      ${word(yesno(gen_parent.born_in_us))}
  - Edit: gen_parent.birth_state
    button: |
      % if user_role == "birth_parent":
      **Where was ${ gen_parent.name_full() } born?**
      % else:
      **Where were you born?**
      % endif
      ${gen_parent.birth_city}, ${gen_parent.birth_state}
    show if: gen_parent.born_in_us
  - Edit: gen_parent.birth_country
    button: |
      % if user_role == "birth_parent":
      **Where was ${ gen_parent.name_full() } born?**
      % else:
      **Where were you born?**
      % endif
      ${gen_parent.birth_city}, ${gen_parent.birth_country}
    show if: gen_parent.born_in_us == False
  - note: |
      <h4>Child's information</h4>
  - Edit: child_born
    button: |
      **Has the child been born yet?**
      ${word(yesno(child_born))}
  - Edit: child.birth_date
    button: |
      **${child.name_full()}'s birth date:**
      ${child.birth_date}
    show if: child_born
  - Edit: were_married
    button: |
      **Were you married to or in a civil union with ${ other_name} when the child was born or conceived?**
      ${word(yesno(were_married))}
    show if: child_born
  - Edit: child.name.first
    button: |
      **The child's name:**
      ${child.name_full()}
    show if: child_born
  - Edit: child.gender
    button: |
      **${ child.name_full()}'s gender on birth certificate:**
      ${child.gender}
    show if: child_born
  - Edit: in_hospital
    button: |
      **Was ${child.name_full()} born in a hospital?**
      ${word(yesno(in_hospital))}
    show if: child_born
  - Edit: hospital_name
    button: |
      **${child.name_full()}'s birth place:**
      ${hospital_name}, ${child.address.city}, ${end_in_county(child.address.county)}, ${child.address.state}
    show if: child_born == True and in_hospital == True
  - Edit: child.address.address
    button: |
      **${child.name_full()}'s birth place:**
      ${child.address.on_one_line(bare=True)}, ${end_in_county(child.address.county)}
    show if: child_born == True and in_hospital == False
  - note: |
      <h4>Previous marriage</h4>
  - Edit: other_marriage
    button: |
      % if user_role == "birth_parent":
      **Were you married to or in a civil union with someone else when the child was born or conceived?**
      % else:
      **Was ${other_name} married to or in a civil union with someone else when the child was born or conceived?**
      % endif
      ${word(yesno(other_marriage))}
    show if: not were_married
  - Edit: spouse.name.first
    button: |
      % if user_role == "birth_parent":
      **Your spouse or ex-spouse's name:**
      % else:
      **${birth_parent.name_full()}'s spouse or ex-spouse's name:**
      % endif
      ${spouse.name_full()}
    show if: other_marriage
  - Edit: spouse.birth_date
    button: |
      **${spouse.name_full()}'s date of birth:**
      ${spouse.birth_date}
    show if: other_marriage
  - Edit: spouse.address.address
    button: |
      **${spouse.name_full()}'s address:**
      ${spouse.address.on_one_line(bare=True)}
    show if: other_marriage
  - Edit: spouse_ssn
    button: |
      **${spouse.name_full()}'s Social Security number:**
      ${spouse_ssn}
    show if: other_marriage
  - Edit: spouse.phone_number
    button: |
      **${spouse.name_full()}'s contact information:**
      
      % if spouse.email != "":
      * Email: ${spouse.email}
      % else:
      * Email: None entered
      % endif
      % if spouse.phone_number != "":
      * Phone: ${phone_number_formatted(spouse.phone_number)}
      % else:
      * Phone: None entered
      % endif
    show if: other_marriage
  - Edit: spouse.born_in_us
    button: |
      **Was ${spouse.name_full()} born in the United States?**
      ${word(yesno(spouse.born_in_us))}
    show if: other_marriage
  - Edit: spouse.birth_state
    button: |
      **${ spouse.name_full() }'s birthplace:**
      ${spouse.birth_city}, ${spouse.birth_state}
    show if: other_marriage == True and spouse.born_in_us == True
  - Edit: spouse.birth_country
    button: |
      **${ spouse.name_full() }'s birthplace:**
      % if spouse.birth_unit == "":
      ${spouse.birth_address}, ${spouse.birth_city}, ${spouse.birth_country}
      % else:
      ${spouse.birth_address}, ${spouse.birth_unit}, ${spouse.birth_city}, ${spouse.birth_country}
      % endif
    show if: other_marriage == True and spouse.born_in_us == False 
  - Edit: marriage_date
    button: |
      % if user_role == "birth_parent":
      **Date you and ${spouse.name_full()} married or entered into a civil union:**
      % else:
      **Date ${birth_parent.name_full()} and ${spouse.name_full()} married or entered into a civil union:**
      % endif
      ${marriage_date}
    show if: other_marriage
  - note: |
      <h4>Witnesses</h4>
  - Edit: user_witness_known
    button: |
      **Do you know who will witness your signature of the VAP?**
      ${word(yesno(user_witness_known))}
  - Edit: user_witness.name.first
    button: |
      **Vap witness's name:**
      ${user_witness.name_full()}
    show if: user_witness_known
  - Edit: user_witness.address.address
    button: |
      **${user_witness.name_full()}'s address:**
      ${user_witness.address.on_one_line(bare=True)}
    show if: user_witness_known
  - Edit: user_witness.phone_number
    button: |
      **${user_witness.name_full()}'s phone number:**
      ${phone_number_formatted(user_witness.phone_number)}
    show if: user_witness_known
  - Edit: user_denial_witness_known
    button: |
      **Do you know who will witness your signature of the Denial of Parentage?**
      ${word(yesno(user_denial_witness_known))}
    show if: user_role == "birth_parent"
  - Edit: user_denial_witness.name.first
    button: |
      **Denial of Parentage witness's name:**
      ${user_denial_witness.name_full()}
    show if: user_denial_witness_known == True and user_role == "birth_parent"
  - Edit: user_denial_witness.address.address
    button: |
      **${user_denial_witness.name_full()}'s address:**
      ${user_denial_witness.address.on_one_line(bare=True)}
    show if: user_denial_witness_known == True and user_role == "birth_parent"
  - Edit: user_denial_witness.phone_number
    button: |
      **${user_denial_witness.name_full()}'s phone number:**
      ${phone_number_formatted(user_denial_witness.phone_number)}
    show if: user_denial_witness_known == True and user_role == "birth_parent"
---
need:
  - end_in_county
section: Parents
id: vap review screen
event: section_vap
question: |
  Parents
subquestion: |
  Edit your answers below.
review:
  - Edit: user_role
    button: |
      **Which parent are you?**
      % if user_role == "gen_parent":
      The non-birth parent
      % else:
      The birth parent
      % endif
  - Edit: birth_parent.name.first
    button: |
      % if user_role == "gen_parent":
      **The birth parent's name:**
      % else:
      **Your name:**
      % endif
      ${birth_parent.name_full()}
  - Edit: gen_parent.name.first
    button: |
      % if user_role == "birth_parent":
      **The other parent's name:**
      % else:
      **Your name:**
      % endif
      ${gen_parent.name_full()}
  - Edit: child_born
    button: |
      **Has the child been born yet?**
      ${word(yesno(child_born))}
  - Edit: child.birth_date
    button: |
      **${child.name_full()}'s birth date:**
      ${child.birth_date}
    show if: child_born
  - Edit: were_married
    button: |
      **Were you married to or in a civil union with ${ other_name} when the child was born or conceived?**
      ${word(yesno(were_married))}
    show if: child_born
  - Edit: other_marriage
    button: |
      % if user_role == "birth_parent":
      **Were you married to or in a civil union with someone else when the child was born or conceived?**
      % else:
      **Was ${other_name} married to or in a civil union with someone else when the child was born or conceived?**
      % endif
      ${word(yesno(other_marriage))}
    show if: were_married == False
---
id: gen parent review screen
section: Other parent's information
event: section_gen_parent
question: |
  % if user_role == "birth_parent":
  Other parent's information
  % else:
  Your information
  % endif
subquestion: |
  Edit your answers below.
review:
  - Edit: gen_parent.name.first
    button: |
      % if user_role == "birth_parent":
      **The other parent's name:**
      % else:
      **Your name:**
      % endif
      ${gen_parent.name_full()}
  - Edit: gen_parent.birth_date
    button: |
      % if user_role == "birth_parent":
      **${gen_parent.name_full()}'s date of birth:**
      % else:
      **Your date of birth:**
      % endif
      ${gen_parent.birth_date}
  - Edit: gen_parent.address.address
    button: |
      % if user_role == "birth_parent":
      **${gen_parent.name_full()}'s address:**
      % else:
      **Your address:**
      % endif
      ${gen_parent.address.on_one_line(bare=True)}
  - Edit: gen_parent_ssn
    button: |
      % if user_role == "birth_parent":
      **${gen_parent.name_full()}'s Social Security number:**
      % else:
      **Your Social Security number:**
      % endif
      ${gen_parent_ssn}
  - Edit: gen_parent.phone_number
    button: |
      % if user_role == "birth_parent":
      **${gen_parent.name_full()}'s contact information:**
      % else:
      **Your contact information:**
      % endif
      
      % if gen_parent.email != "":
      * Email: ${gen_parent.email}
      % else:
      * Email: None entered
      % endif
      % if gen_parent.phone_number != "":
      * Phone: ${phone_number_formatted(gen_parent.phone_number)}
      % else:
      * Phone: None entered
      % endif
  - Edit: gen_parent.born_in_us
    button: |
      % if user_role == "birth_parent":
      **Was ${gen_parent.name_full()} born in the United States?**
      % else:
      **Were you born in the United States?**
      % endif
      ${word(yesno(gen_parent.born_in_us))}
  - Edit: gen_parent.birth_state
    button: |
      % if user_role == "birth_parent":
      **Where was ${ gen_parent.name_full() } born?**
      % else:
      **Where were you born?**
      % endif
      ${gen_parent.birth_city}, ${gen_parent.birth_state}
    show if: gen_parent.born_in_us
  - Edit: gen_parent.birth_country
    button: |
      % if user_role == "birth_parent":
      **Where was ${ gen_parent.name_full() } born?**
      % else:
      **Where were you born?**
      % endif
      % if gen_parent.birth_unit == "":
      ${gen_parent.birth_address}, ${gen_parent.birth_city}, ${gen_parent.birth_country}
      % else:
      ${gen_parent.birth_address}, ${gen_parent.birth_unit}, ${gen_parent.birth_city}, ${gen_parent.birth_country}
      % endif
    show if: gen_parent.born_in_us == False
---
id: birth parent review screen
section: Birth parent's information
event: section_birth_parent
question: |
  % if user_role == "birth_parent":
  Your information
  % else:
  Birth parent's information
  % endif
subquestion: |
  Edit your answers below.
review:
  - Edit: birth_parent.name.first
    button: |
      % if user_role == "gen_parent":
      **The birth parent's name:**
      % else:
      **Your name:**
      % endif
      ${birth_parent.name_full()}
  - Edit: birth_parent.birth_date
    button: |
      % if user_role == "gen_parent":
      **${birth_parent.name_full()}'s date of birth:**
      % else:
      **Your date of birth:**
      % endif
      ${birth_parent.birth_date}
  - Edit: birth_parent.address.address
    button: |
      % if user_role == "gen_parent":
      **${birth_parent.name_full()}'s address:**
      % else:
      **Your address:**
      % endif
      ${birth_parent.address.on_one_line(bare=True)}
  - Edit: birth_parent_ssn
    button: |
      % if user_role == "gen_parent":
      **${birth_parent.name_full()}'s Social Security number:**
      % else:
      **Your Social Security number:**
      % endif
      ${birth_parent_ssn}
  - Edit: birth_parent.phone_number
    button: |
      % if user_role == "gen_parent":
      **${birth_parent.name_full()}'s contact information:**
      % else:
      **Your contact information:**
      % endif
      
      % if birth_parent.email != "":
      * Email: ${birth_parent.email}
      % else:
      * Email: None entered
      % endif
      % if birth_parent.phone_number != "":
      * Phone: ${phone_number_formatted(birth_parent.phone_number)}
      % else:
      * Phone: None entered
      % endif
  - Edit: birth_parent.changed_name
    button: |
      % if user_role == "birth_parent":
      **Have you ever changed your last name?**
      % else:
      **Has ${other_name} ever changed their last name?**
      % endif
      ${word(yesno(birth_parent.changed_name))}
  - Edit: birth_parent.former_name
    button: |
      % if user_role == "birth_parent":
      **What is your former last name?**
      % else:
      **What is ${birth_parent.name_full()}'s former last name?**
      % endif
      ${birth_parent.former_name}
    show if: birth_parent.changed_name
  - Edit: birth_parent.born_in_us
    button: |
      % if user_role == "gen_parent":
      **Was ${birth_parent.name_full()} born in the United States?**
      % else:
      **Were you born in the United States?**
      % endif
      ${word(yesno(birth_parent.born_in_us))}
  - Edit: birth_parent.birth_state
    button: |
      % if user_role == "gen_parent":
      **Where was ${ birth_parent.name_full() } born?**
      % else:
      **Where were you born?**
      % endif
      ${birth_parent.birth_city}, ${birth_parent.birth_state}
    show if: birth_parent.born_in_us
  - Edit: birth_parent.birth_country
    button: |
      % if user_role == "gen_parent":
      **Where was ${ birth_parent.name_full() } born?**
      % else:
      **Where were you born?**
      % endif
      ${birth_parent.birth_city}, ${birth_parent.birth_country}
    show if: birth_parent.born_in_us == False
  - Edit: other_marriage
    button: |
      % if user_role == "birth_parent":
      **Were you married to or in a civil union with someone else when the child was born or conceived?**
      % else:
      **Was ${other_name} married to or in a civil union with someone else when the child was born or conceived?**
      % endif
      ${word(yesno(other_marriage))}
    show if: were_married == False
---
need:
  - end_in_county
id: child review screen
section: Child's information
event: section_child
question: |
  Child's information
subquestion: |
  Edit your answers below.
review:
  - Edit: child_born
    button: |
      **Has the child been born yet?**
      ${word(yesno(child_born))}
  - Edit: child.name.first
    button: |
      **The child's name:**
      ${child.name_full()}
    show if: child_born
  - Edit: child.gender
    button: |
      **${ child.name_full()}'s gender on birth certificate:**
      ${child.gender}
    show if: child_born
  - Edit: child.birth_date
    button: |
      **${child.name_full()}'s birth date:**
      ${child.birth_date}
    show if: child_born
  - Edit: in_hospital
    button: |
      **Was ${child.name_full()} born in a hospital?**
      ${word(yesno(in_hospital))}
    show if: child_born
  - Edit: hospital_name
    button: |
      **${child.name_full()}'s birth place:**
      ${hospital_name}, ${child.address.city}, ${end_in_county(child.address.county)}, ${child.address.state}
    show if: child_born == True and in_hospital == True
  - Edit: child.address.address
    button: |
      **${child.name_full()}'s birth place:**
      ${child.address.on_one_line(bare=True)}, ${end_in_county(child.address.county)}
    show if: child_born == True and in_hospital == False
---
id: denial review screen
section: Previous marriage (optional)
event: section_denial
question: |
  Previous marriage (optional)
subquestion: |
  Edit your answers below.
review:
  - Edit: other_marriage
    button: |
      % if user_role == "birth_parent":
      **Were you married to or in a civil union with someone else when the child was born or conceived?**
      % else:
      **Was ${other_name} married to or in a civil union with someone else when the child was born or conceived?**
      % endif
      ${word(yesno(other_marriage))}
    show if: were_married == False
  - Edit: spouse.name.first
    button: |
      % if user_role == "birth_parent":
      **Your spouse or ex-spouse's name:**
      % else:
      **${birth_parent.name_full()}'s spouse or ex-spouse's name:**
      % endif
      ${spouse.name_full()}
    show if: other_marriage
  - Edit: spouse.birth_date
    button: |
      **${spouse.name_full()}'s date of birth:**
      ${spouse.birth_date}
    show if: other_marriage
  - Edit: spouse.address.address
    button: |
      **${spouse.name_full()}'s address:**
      ${spouse.address.on_one_line(bare=True)}
    show if: other_marriage
  - Edit: spouse_ssn
    button: |
      **${spouse.name_full()}'s Social Security number:**
      ${spouse_ssn}
    show if: other_marriage
  - Edit: spouse.phone_number
    button: |
      **${spouse.name_full()}'s contact information:**
      
      % if spouse.email != "":
      * Email: ${spouse.email}
      % else:
      * Email: None entered
      % endif
      % if spouse.phone_number != "":
      * Phone: ${phone_number_formatted(spouse.phone_number)}
      % else:
      * Phone: None entered
      % endif
    show if: other_marriage
  - Edit: spouse.born_in_us
    button: |
      **Was ${spouse.name_full()} born in the United States?**
      ${word(yesno(spouse.born_in_us))}
    show if: other_marriage
  - Edit: spouse.birth_state
    button: |
      **${ spouse.name_full() }'s birthplace:**
      ${spouse.birth_city}, ${spouse.birth_state}
    show if: other_marriage == True and spouse.born_in_us == True
  - Edit: spouse.birth_country
    button: |
      **${ spouse.name_full() }'s birthplace:**
      ${spouse.birth_city}, ${spouse.birth_country}
    show if: other_marriage and not spouse.born_in_us
  - Edit: marriage_date
    button: |
      % if user_role == "birth_parent":
      **Date you and ${spouse.name_full()} married or entered into a civil union:**
      % else:
      **Date ${birth_parent.name_full()} and ${spouse.name_full()} married or entered into a civil union:**
      % endif
      ${marriage_date}
    show if: other_marriage
---
id: witnesses review screen
section: Witnesses
event: section_witnesses
question: |
  Witnesses
subquestion: |
  Edit your answers below.
review:
  - Edit: user_witness_known
    button: |
      **Do you know who will witness your signature of the VAP?**
      ${word(yesno(user_witness_known))}
  - Edit: user_witness.name.first
    button: |
      **VAP witness's name:**
      ${user_witness.name_full()}
    show if: user_witness_known
  - Edit: user_witness.address.address
    button: |
      **${user_witness.name_full()}'s address:**
      ${user_witness.address.on_one_line(bare=True)}
    show if: user_witness_known
  - Edit: user_witness.phone_number
    button: |
      **${user_witness.name_full()}'s phone number:**
      ${phone_number_formatted(user_witness.phone_number)}
    show if: user_witness_known
  - Edit: user_denial_witness_known
    button: |
      **Do you know who will witness your signature of the Denial of Parentage?**
      ${word(yesno(user_denial_witness_known))}
    show if: user_role == "birth_parent"
  - Edit: user_denial_witness.name.first
    button: |
      **Denial of Parentage witness's name:**
      ${user_denial_witness.name_full()}
    show if: user_denial_witness_known == True and user_role == "birth_parent"
  - Edit: user_denial_witness.address.address
    button: |
      **${user_denial_witness.name_full()}'s address:**
      ${user_denial_witness.address.on_one_line(bare=True)}
    show if: user_denial_witness_known == True and user_role == "birth_parent"
  - Edit: user_denial_witness.phone_number
    button: |
      **${user_denial_witness.name_full()}'s phone number:**
      ${phone_number_formatted(user_denial_witness.phone_number)}
    show if: user_denial_witness_known == True and user_role == "birth_parent"
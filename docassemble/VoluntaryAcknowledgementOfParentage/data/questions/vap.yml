metadata:
  title: Voluntary acknowledgement of parentage - VAP
  short title: VAP
  comment:  This program helps you prepare an Illinois Voluntary Acknowledgement of Paternity. If necessary, an Illinois Denial of Paternity will also be created. 
---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ALToolbox:phone-number-validation.yml
  - docassemble.ILAO:ilao-interview-framework.yml
  - docassemble.ILAO:shared-basic-questions.yml
---
objects:
  - mother: ALIndividual
  - father: ALIndividual
  - child: ALIndividual
  - husband: ALIndividual
  - witnesses: ALPeopleList
  - court_list: ALCourtLoader.using(file_name='docassemble.ILAO:data/sources/il_courts.xlsx')
---
sections:
  - review_answers: Review your answers
---
# interview order block
mandatory: True
code: |
  ilao_easy_form_title = "Voluntary acknowledgement of parentage - VAP"
  ilao_easy_form_url = "https://www.illinoislegalaid.org/legal-information/voluntary-acknowledgment-parentage-vap"
  sees_nav_bar
  set_progress(5)
  how_to_use
  accept_terms
  vap_requirements
  user_gender
  father.name.first
  mother.name.first
  if lets_qualify == False:
    qualify_kickout
  if child_born == False:
    not_yet_born
  if were_married == False:
    other_marriage
  father.birth_date
  father.address.address
  father.ssn
  father.phone_number
  if father.born_in_us == True:
    father.birth_state
  else:
    father.birth_country
  mother.birth_date
  mother.address.address
  mother.ssn
  mother.phone_number
  if other_marriage == True:
    if mother.changed_name == True:
      mother.maiden_name
  if mother.born_in_us == True:
    mother.birth_state
  else:
    mother.birth_country
  if child_born == True:
    child.name.first
    child.gender
    child.birth_date
    if in_hospital == True:
      hospital_name
    else:
      child.address.address
  if other_marriage == True:
    denial_intro 
    husband.name.first
    husband.birth_date
    husband.address.address
    husband.ssn
    husband.phone_number
    if husband.born_in_us == True:
      husband.birth_state
    else:
      husband.birth_country
    marriage_date
  witness_intro
  witness_check
  witnesses[0].name.first
  witnesses[0].address.address
  witnesses[0].phone_number
  if witness_check == "The same witness":
    witnesses[1] = witnesses[0]
  else: 
    witnesses[1].name.first
    witnesses[1].address.address
    witnesses[1].phone_number
  if other_marriage == True:
    denial_witness_intro
    denial_witness_check
    witnesses[2].name.first
    witnesses[2].address.address
    witnesses[2].phone_number
    if denial_witness_check == "The same witness":
      witnesses[3] = witnesses[2]
    else:
      witnesses[3].name.first
      witnesses[3].address.address
      witnesses[3].phone_number
  get_docs_screen
---
id: welcome
question: |
  Voluntary Acknowledgement of Parentage - VAP
subquestion: |
  Welcome to Illinois Legal Aid Online's **Voluntary Acknowledgement of Parentage - VAP** Easy Form.

  This program helps you make a letter requesting time off work to deal with problems caused by domestic violence or sexual violence.
  
  The form you create can only be used in Illinois.
field: sees_nav_bar
---
id: instructions
continue button field: how_to_use
question: |
  Instructions
subquestion: |
  You can use this program to create documents to tell the state who a child's biological father is.

  Set aside 10 to 20 minutes to finish this program. You can log in and save your work to return to later. 

  After you download your form, X.
  
  ${ collapse_template(help_example) }  

  Click on **{green words}** to learn what they mean. Some questions have a question mark in a circle ${ fa_icon("question-circle", color_css="#0DCAF0" ) } that also gives help.
---
template: help_example

subject: |

  **You can expand sections like this to show more information.**

content: |  

  This is an example of help. Click again to hide.
---
id: accept terms
question: |
  Terms of use
subquestion: |
  This program does not provide legal advice. It does not take the place of advice from a lawyer.

  Using this program does not create an attorney-client relationship between you and Illinois Legal Aid Online or its employees.

  ${ collapse_template(get_legal_help) }  

fields:
  - To continue, you must accept the [**terms of use**](https://www.illinoislegalaid.org/about/terms-of-use).: accept
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I accept the terms of use.
    validation messages:
      minlength: |
        You cannot continue unless you agree to the terms of use.
continue button field: accept_terms
---
template: get_legal_help
subject: |
  **What if I need legal advice?**
content: |  
  If you have questions or concerns about your legal problem and want legal advice you should talk to a lawyer.
 
  Use [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help) to find free or low-cost legal services in your area.
---
id: vap requirements
continue button field: vap_requirements
question: |
  Requirements for this program
subquestion: |
  To use this program, you must be a father seeking to acknowledge that you are the parent of a child, or a mother helping the father of your child to acknowledge parentage.
  
  To complete this program, you will need to know:

  * The other parent's address, birth date, and birth place,
  * The child's name and birthdate, and
  * If you are the father and the mother was married to someone else when the child was conceived or born, you need to know the mother's husband or ex-husband's address, birth date, and birth place, as well as the date of their marriage. 
  
  This program can only be used if both biological parents agree and can sign the forms.

  If the parents do not agree, you must ask a court to establish parentage. Learn how to [start a court case to establish parentage](https://www.illinoislegalaid.org/legal-information/starting-case-parentage-court).
---
id: user gender
question: |
  Are you the mother or the father of the child?
subquestion: |
  ${ collapse_template(gender_explain) }
field: user_gender
choices:
  - "I am the biological father of the child. I want to declare paternity of this child.": father
  - "I am the mother of the child. I am filling out these forms for the child's biological father to sign.": mother
---
template: gender_explain
subject: |
  **What if the other parent or I are intersex or transgender?**
content: |
  For the purposes of this interview, "mother" refers to the biological parent who gave birth to the child and "father" refers to the biological parent who did not.
---
id: father name
question: |
  % if user_gender == "father":
  What is your name?
  % else:
  What is the name of the biological father of the child?
  % endif
fields:
  - First: father.name.first
  - Middle: father.name.middle
    required: False
  - Last: father.name.last
  - Suffix: father.name.suffix
    required: False
    code: name_suffix()
---
id: mother name
question: |
  % if user_gender == "mother":
  What is your name?
  % else:
  What is the name of the mother of the child you want to declare paternity of?
  % endif
fields:
  - First: mother.name.first
  - Middle: mother.name.middle
    required: False
  - Last: mother.name.last
---
id: husband name
question: |
  % if user_gender == "mother":
  What is the name of your husband or ex-husband?
  % else:
  What is the name of ${other_name}'s husband or ex-husband?
  % endif
fields:
  - First: husband.name.first
  - Middle: husband.name.middle
    required: False
  - Last: husband.name.last
  - Suffix: husband.name.suffix
    required: False
    code: name_suffix()
---
id: qualifications intro
question: |
  % if user_gender == "mother":
  Would you like to fill out the forms for ${other_name} to declare paternity of your child?
  % else:
  Would you like to declare paternity of a child?
  % endif
subquestion: |
  % if user_gender == "mother":
  Once legal paternity is shown, ${other_name} will have all the rights of a legal parent, but also the responsibilities of a parent. ${other_name} will have the right to have a relationship with the child, but he will also be responsible for supporting the child financially.
  % else:
  Once legal paternity is shown, you will have all the rights of a legal parent, but also the responsibilities of a parent. You will have the right to have a relationship with the child, but you will also be responsible for supporting the child financially.
  % endif
fields:
  - no label: lets_qualify
    datatype: yesnoradio
---
id: qualify kickout
event: qualify_kickout
question: |
  Sorry
subquestion: |
  This program is only for someone who wants to declare legal paternity of a child.
buttons:
  - Exit: exit
  - Restart: restart
---
id: child birth
question: |
  Has the child been born yet?
fields:
  - no label: child_born
    datatype: yesnoradio
---
id: not yet born
continue button field: not_yet_born
question: |
  This form will not be valid until the child is born.
subquestion: |
  The Voluntary Acknowledgment of Paternity (VAP) may be completed before your child is born, but is not valid until the child is born and the VAP is filed with HFS.

  You will need to add information about the child's birth and name to the VAP after they are born. Alternatively, you can ask for VAP forms at the hospital when the child is born.
---
code: |
  if user_gender == "mother":
    other_name = father.name.full(middle='full')
  else:
    other_name = mother.name.full(middle='full')
---
id: marriage check
question: |
  Were you married to or in a civil union with ${ other_name} at the time the child was conceived or born?
subquestion: |
  % if user_gender == "mother":
  If you were married to or in a civil union with ${other_name} at the time the child was conceived or born, he is presumed to be the biological father. If his name is listed on the birth certificate as the child's father, you do not need to complete this program.
  % else:
  If you were married to or in a civil union with ${ other_name} at the time the child was conceived or born, you are presumed to be the biological father. If your name is listed on the birth certificate as the child's father, you do not need to complete this program.
  % endif
fields:
  - no label: were_married
    datatype: yesnoradio
---
id: other marriage
question: |
  % if user_gender == "mother":
  Were you married to or in a civil union with someone else at the time the child was conceived or born?
  % else:
  Was ${other_name} married to or in a civil union with someone else at the time the child was conceived or born?
  % endif
subquestion: |
  % if user_gender == "mother":
  If you were married or in a civil union at the time the child was conceived or born, your husband or ex-husband must sign a Denial of Parentage form. You will get a completed copy of this form when you finish, but it will need to be signed by you and your husband or ex-husband.
  % else:
  If ${ other_name} was married or in a civil union at the time the child was conceived or born, the husband or ex-husband must fill out and sign a Denial of Parentage form. You will get a completed copy of this form when you finish, but it will need to be signed by ${other_name}'s husband or ex-husband.
  % endif
fields:
  - no label: other_marriage
    datatype: yesnoradio
---
id: father birthdate
question: |
  % if user_gender == "mother":
  What is ${other_name}'s date of birth?
  % else:
  What is your date of birth?
  % endif
fields:
  - Birth date: father.birth_date
    datatype: date
    max: ${ today() }
---
id: mother birthdate
question: |
  % if user_gender == "father":
  What is ${other_name}'s date of birth?
  % else:
  What is your date of birth?
  % endif
fields:
  - Birth date: mother.birth_date
    datatype: date
    max: ${ today() }
---
id: husband birthdate
question: |
  What is ${husband.name.full(middle='full')}'s date of birth?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - Birth date: husband.birth_date
    datatype: date
    max: ${ today() }
    required: False
---
id: father address
question: |
  % if user_gender == "mother":
  What is ${other_name}'s address?
  % else:
  What is your address?
  % endif
fields:
  - Street address: father.address.address
    address autocomplete: True
  - Address line 2: father.address.unit
    required: False
  - City: father.address.city
  - State: father.address.state
    code: |
      states_list() 
  - ZIP code: father.address.zip
---
id: mother address
question: |
  % if user_gender == "father":
  What is ${other_name}'s address?
  % else:
  What is your address?
  % endif
fields:
  - Street address: mother.address.address
    address autocomplete: True
  - Address line 2: mother.address.unit
    required: False
  - City: mother.address.city
  - State: mother.address.state
    code: |
      states_list() 
  - ZIP code: mother.address.zip
---
id: husband address
question: |
  What is ${husband.name.full(middle='full')}'s address?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - Street address: husband.address.address
    address autocomplete: True
    required: False
  - Address line 2: husband.address.unit
    required: False
  - City: husband.address.city
    required: False
  - State: husband.address.state
    required: False
    code: |
      states_list() 
  - ZIP code: husband.address.zip
    required: False
---
id: father ssn
question: |
  % if user_gender == "mother":
  What is ${other_name}'s social security number?
  % else:
  What is your social security number?
  % endif
subquestion: |
  % if user_gender == "mother":
  This information is optional, but it helps identify ${other_name}.
  % else:
  This information is optional, but it helps identify you.
  % endif
fields:
 - Social security number: father.ssn
   required: False
---
id: mother ssn
question: |
  % if user_gender == "father":
  What is ${other_name}'s social security number?
  % else:
  What is your social security number?
  % endif
subquestion: |
  % if user_gender == "father":
  This information is optional, but it helps identify ${other_name}.
  % else:
  This information is optional, but it helps identify you.
  % endif
fields:
 - Social security number: mother.ssn
   required: False
---
id: husband ssn
question: |
  What is ${husband.name.full(middle='full')}'s social security number?
subquestion: |
  This information is optional, but it helps identify ${husband.name.full(middle='full')}.
fields:
 - Social security number: husband.ssn
   required: False
---
id: father phone
question: |
  % if user_gender == "mother":
  What is ${other_name}'s phone number?
  % else:
  What is your phone number?
  % endif
subquestion: |
  This information is not required.
fields:
  - Phone number: father.phone_number
    datatype: al_international_phone
    required: False
---
id: mother phone
question: |
  % if user_gender == "father":
  What is ${other_name}'s phone number?
  % else:
  What is your phone number?
  % endif
subquestion: |
  This information is not required.
fields:
  - Phone number: mother.phone_number
    datatype: al_international_phone
    required: False
---
id: husband phone
question: |
  What is ${husband.name.full(middle='full')}'s phone number?
subquestion: |
  This information is not required.
fields:
  - Phone number: husband.phone_number
    datatype: al_international_phone
    required: False
---
id: father birth check
question: |
  % if user_gender == "mother":
  Was ${ other_name} born in the United States?
  % else:
  Were you born in the United States?
  % endif
fields:
  - no label: father.born_in_us
    datatype: yesnoradio
---
id: mother birth check
question: |
  % if user_gender == "father":
  Was ${ other_name} born in the United States?
  % else:
  Were you born in the United States?
  % endif
fields:
  - no label: mother.born_in_us
    datatype: yesnoradio
---
id: husband birth check
question: |
  Was ${ husband.name.full(middle='full')} born in the United States?
fields:
  - no label: husband.born_in_us
    datatype: yesnomaybe
---
id: father us birthplace
question: |
  % if user_gender == "mother":
  Where was ${ other_name } born?
  % else:
  Where were you born?
  % endif
fields:
  - City: father.birth_city
  - State: father.birth_state
    code: |
      states_list() 
---
id: mother us birthplace
question: |
  % if user_gender == "father":
  Where was ${ other_name } born?
  % else:
  Where were you born?
  % endif
fields:
  - City: mother.birth_city
  - State: mother.birth_state
    code: |
      states_list() 
---
id: husband us birthplace
question: |
  Where was ${ husband.name.full(middle='full') } born?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - City: husband.birth_city
    required: False
  - State: husband.birth_state
    required: False
    code: |
      states_list() 
---
id: father abroad birthplace
question: |
  % if user_gender == "mother":
  Where was ${ other_name } born?
  % else:
  Where were you born?
  % endif
fields:
  - Street address: father.birth_address
    address autocomplete: True
  - Address line 2: father.birth_unit
    required: False
  - City: father.birth_city
  - Country: father.birth_country
---
id: mother abroad birthplace
question: |
  % if user_gender == "father":
  Where was ${ other_name } born?
  % else:
  Where were you born?
  % endif
fields:
  - Street address: mother.birth_address
    address autocomplete: True
  - Address line 2: mother.birth_unit
    required: False
  - City: mother.birth_city
  - Country: mother.birth_country
---
id: husband abroad birthplace
question: |
  Where was ${ husband.name.full(middle='full') } born?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - Street address: husband.birth_address
    address autocomplete: True
    required: False
  - Address line 2: husband.birth_unit
    required: False
  - City: husband.birth_city
    required: False
  - Country: husband.birth_country
    required: False
---
id: mother name change
question: |
  % if user_gender == "mother":
  Did you change your surname when you got married or entered into a civil union?
  % else:
  Did ${other_name} change her surname when she got married or entered into a civil union?
  % endif
fields:
  - no label: mother.changed_name
    datatype: yesnoradio
---
id: mother maiden name
question: |
  % if user_gender == "mother":
  What is your maiden name?
  % else:
  What is ${other_name}'s maiden name?
  % endif
fields:
  - Maiden name: mother.maiden_name
---
id: child name
question: |
  What is the child's full name?
fields:
  - First: child.name.first
  - Middle: child.name.middle
    required: False
  - Last: child.name.last
  - Suffix: child.name.suffix
    required: False
    code: name_suffix()
---
id: child gender
question: |
  What is the gender marker on ${ child.name.full(middle='full')}'s birth certificate?
field: child.gender
choices:
  - Male
  - Female
---
id: child birthdate
question: |
  What is ${child.name.full(middle='full')}'s date of birth?
fields:
  - Birth date: child.birth_date
    datatype: date
    max: ${ today() }
    required: False
---
id: hospital check
question: |
  Was ${child.name.full(middle='full')} born in a hospital?
fields:
  - no label: in_hospital
    datatype: yesnoradio
---
#I have not implemented the county list from other programs because this county is not necessarily in Illinois. I have also used the child.address data to store the child's birthplace location. child.address refers to the child's birthplace.
id: child hospital address
question: |
  What is the name, city, county, and state of the hospital where ${child.name.full(middle='full')} was born?
fields:
  - Hospital name: hospital_name
  - City: child.address.city
  - County: child.address.county
  - State: child.address.state
    code: |
      states_list() 
---
id: child other birthplace address
question: |
  What is the street address, city, county, and state of the place where ${child.name.full(middle='full')} was born?
fields:
  - Street address: child.address.address
    address autocomplete: True
  - Address line 2: child.address.unit
    required: False
  - City: child.address.city
  - County: child.address.county
  - State: child.address.state
    code: |
      states_list()
---
id: denial intro
continue button field: denial_intro
question: |
  % if user_gender == "mother":
  Before you can file your forms, you and your husband or ex-husband need to sign a Denial of Paternity form.
  % else:
  Before you can file your forms, ${other_name} and her husband or ex-husband need to sign a Denial of Paternity form.
  % endif
subquestion: |
  % if user_gender == "mother":
  You will need to know your husband or ex-husband's address, his birth date and place of birth, and the date when you were married. If you do not enter this information now, you will have to add it to the Denial of Paternity form before you mail the forms to the state.
  % else:
  You will need to know ${other_name}'s husband or ex-husband's name, address, his birth date and place of birth, and the date when he and ${other_name} were married. If you do not enter this information now, you will have to add it to the Denial of Paternity form before you mail the forms to the state.
  % endif
---
id: marriage date
question: |
  % if user_gender == "mother":
  When did you and ${ husband.name.full(middle='full')} marry or enter into a civil union?
  % else:
  When did ${other_name} and ${ husband.name.full(middle='full')} marry or enter into a civil union?
  % endif
subquestion: |
  If you do not know, leave this question blank.
fields:
  - Date: marriage_date
    datatype: date
    max: ${ today() }
---
id: witness intro
continue button field: witness_intro
question: |
  You will need someone to witness you and ${ other_name } sign the Voluntary Acknowledgement of Paternity form.
subquestion: |
  You do not have to sign at the same time as ${other_name }.
  
  ${ collapse_template(witness_info) }  
---
template: witness_info
subject: |
  **Who can be a witness?**
content: |
  % if other_marriage == True:
  The witness must be an adult age 18 or older but cannot be you, ${other_name}, or ${husband.name.full(middle='full')}
  % else:
  The witness must be an adult age 18 or older but cannot be you, or {other_name}.
  % endif
---
id: number of witnesses
question: |
   Will you and ${other_name} sign the Voluntary Acknowledgement of Paternity in front of the same witness or different witnesses?"
field: witness_check
choices:
  - The same witness
  - Different witnesses
---
sets:
  - witnesses[i].name.first
id: witness name
question: |
  % if i == 0:
  % if witness_check == "Different witnesses":
  % if user_gender == "mother":
  What is the full name of the witness ${father.name.full(middle='full')} will sign the Voluntary Acknowledgement of Paternity in front of?
  % else:
  What is the full name of the witness you will sign the Voluntary Acknowledgement of Paternity in front of?
  % endif
  % else:
  What is the full name of the witness you and ${ other_name} will sign the Voluntary Acknowledgement of Paternity in front of?
  % endif
  % endif
  % if i == 1:
  % if user_gender == "mother":
  What is the full name of the witness you will sign the Voluntary Acknowledgement of Paternity in front of?
  % else:
  What is the full name of the witness ${father.name.full(middle='full')} will sign the Voluntary Acknowledgement of Paternity in front of?
  % endif
  % endif
  % if i == 2:
  % if user_gender == "mother":
  % if denial_witness_check == "The same witness":
  What is the full name of the witness you and ${husband.name.full(middle='full')} will sign the Denial of Parentage in front of?
  % else:
  What is the full name of the witness you will sign the Denial of Parentage in front of?
  % endif
  % else:
  % if denial_witness_check == "The same witness":
  What is the full name of the witness ${other_name} and ${husband.name.full(middle='full')} will sign the Denial of Parentage in front of?
  % else:
  What is the full name of the witness ${other_name} will sign the Denial of Parentage in front of?
  % endif
  % endif
  % endif
  % if i == 3:
  What is the full name of the witness ${husband.name.full(middle='full')} will sign the Denial of Parentage in front of?
  % endif
subquestion: |
  If you do not know, leave this question blank.
fields:
  - First: witnesses[i].name.first
    required: False
  - Middle: witnesses[i].name.middle
    required: False
  - Last: witnesses[i].name.last
    required: False
  - Suffix: witnesses[i].name.suffix
    required: False
    code: name_suffix()
---
sets:
  - witnesses[i].address.address
id: witness address
question: |
  What is ${witnesses[i].name.full(middle='full')}'s address?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - Street address: witnesses[i].address.address
    address autocomplete: True
    required: False
  - Address line 2: witnesses[i].address.unit
    required: False
  - City: witnesses[i].address.city
    required: False
  - State: witnesses[i].address.state
    required: False
    code: |
      states_list() 
  - ZIP code: witnesses[i].address.zip
    required: False
---
sets:
  - witnesses[i].phone_number
id: witness phone
question: |
  What is ${witnesses[i].name.full(middle='full')}'s phone number?
subquestion: |
  If you do not know, leave this question blank.
fields:
  - Phone number: witnesses[i].phone_number
    datatype: al_international_phone
    required: False
---
id: denial witness intro
continue button field: denial_witness_intro
question: |
  % if user_gender == "mother":
  You will also need someone to witness you and ${husband.name.full(middle='full')} sign the Denial of Parentage form.
  % else:
  You will also need someone to witness ${other_name} and ${husband.name.full(middle='full')} sign the Denial of Parentage form.
  % endif
subquestion: |
  % if user_gender == "mother":
  You do not have to sign the document at the same time as ${husband.name.full(middle='full')}.
  % else:
  ${other_name} does not have to sign the document at the same time as ${husband.name.full(middle='full')}.
  % endif
  
  ${ collapse_template(witness_info) } 
---
id: number of denial witnesses
question: |
  % if user_gender == "mother":
   Will you and ${husband.name.full(middle='full')} sign the Denial of Parentage in front of the same witness or different witnesses?
  % else:
  Will ${other_name} and ${husband.name.full(middle='full')}} sign the Denial of Parentage in front of the same witness or different witnesses?
  % endif
field: denial_witness_check
choices:
  - The same witness
  - Different witnesses
---
id: get docs screen
event: get_docs_screen
question: |
  Download
subquestion: |
  Your forms are ready. View and download your form below. Click **Make changes** to fix any mistakes.
  
  Read the instructions to learn what to do next.

  Thank you for using ILAO Easy Forms!
  
  ${ action_button_html(url_action('review_answers'), label=':edit: Make changes', color='success', size="md") }

  ${ al_user_bundle.download_list_html() }
 
  &nbsp;

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }
  
  **Note:** This program does not send your form. You will need to do this yourself.

  Thank you for using ILAO Easy Forms!
under: |
  % if not user_logged_in():
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} **Sign-in**](${url_of('login', next=interview_url())}) or [**create**](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif

 
  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=user_info().question_id, easy_form_variable=user_info().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }
---
generic object: ALDocumentBundle
template: x.send_email_template
subject: |
  Voluntary Acknowledgment of Parentage
content: |
  Your forms are attached.
  
  Thanks for using ILAO Easy Forms!
  
  [**Illinois Legal Aid Online**](https://www.illinoislegalaid.org)
---
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[instructions, vap_form, Denial_of_paternity], filename="voluntary_acknowledgment_of_parentage.pdf", title="Download all forms")
  - al_court_bundle: ALDocumentBundle.using(elements=[instructions, vap_form, Denial_of_paternity], filename="voluntary_acknowledgment_of_parentage.pdf", title="Download all forms")
---
attachment:
  - name: Voluntary Acknowledgement of Parentage
    variable name: vap_form[i]
    filename: vap_form
    pdf template file: vap_form.pdf
    skip undefined: True
    editable: False
    fields:
      - "child_name_first": ${ child.name.first }
      - "child_name_middle": ${ child.name.middle if child.name.middle != "" else ""}
      - "child_name_last": ${ child.name.last }
      - "child_name_suffix": ${ child.name.suffix if child.name.suffix != "" else ""}
      - "child_dob": ${ child.birth_date}
      - "child_is_male": ${ True if child.gender == "Male" else False}
      - "child_is_female": ${ True if child.gender == "Female" else False}
      - "child_address_one": |
          % if in_hospital == True:
          ${ hospital_name + ", " + child.address.city + ", " + child.address.county + " County, " + child.address.state}
          % else:
          ${child.address.line_one()}
          % endif
      - "child_address_two": ${child.address.city + ", " + child.address.county + " County, " + child.address.state}
      - "father_name_first": ${father.name.first}
      - "father_name_middle": ${father.name.middle if father.name.middle != "" else ""}
      - "father_name_last": ${father.name.last}
      - "father_name_suffix": ${father.name.suffix if father.name.suffix != "" else ""}
      - "father_birthplace": |
          % if father.born_in_us == True:
          ${father.birth_city + ", " + father.birth_state}
          % else:
          % if father.birth_unit == "":
          ${father.birth_address + ", " + father.birth_city + ", " + father.birth_country}
          % else:
          ${father.birth_address + ", " + father.birth_unit + ", " + father.birth_city + ", " + father.birth_country}
          % endif
          % endif
      - "father_dob": ${father.birth_date}
      - "father_ssn": ${father.ssn}
      - "father_address_one": ${father.address.line_one()}
      - "father_address_two": ${father.address.line_two()}
      - "father_phone": ${phone_number_formatted(father.phone_number)}
      - "mother_name_first": ${mother.name.first}
      - "mother_name_middle": ${mother.name.middle if mother.name.middle != "" else ""}
      - "mother_name_last": ${mother.name.last}
      - "mother_name_maiden": ${mother.maiden_name if mother.changed_name == True else ""}
      - "mother_birthplace": |
          % if mother.born_in_us == True:
          ${mother.birth_city + ", " + mother.birth_state}
          % else:
          % if mother.birth_unit == "":
          ${mother.birth_address + ", " + mother.birth_city + ", " + mother.birth_country}
          % else:
          ${mother.birth_address + ", " + mother.birth_unit + ", " + mother.birth_city + ", " + mother.birth_country}
          % endif
          % endif
      - "mother_dob": ${mother.birth_date}
      - "mother_ssn": ${mother.ssn}
      - "mother_address_one": ${mother.address.line_one()}
      - "mother_address_two": ${mother.address.line_two()}
      - "mother_phone": ${phone_number_formatted(mother.phone_number)}
      - "was_married": ${other_marriage}
      - "was_not_married": ${False if other_marriage == True else True}
      - "husband_name": ${husband.name.full(middle='full')}
      - "father_witness_name": ${witnesses[0].name.full(middle='full')}
      - "father_witness_address": ${witnesses[0].address.on_one_line()}
      - "father_witness_phone": ${phone_number_formatted(witnesses[0].phone_number)}
      - "mother_witness_name": ${witnesses[1].name.full(middle='full')}
      - "mother_witness_address": ${witnesses[1].address.on_one_line()}
      - "mother_witness_phone": ${phone_number_formatted(witnesses[1].phone_number)}
---
attachment:
  - name: Denial of parentage
    variable name: Denial_of_paternity[i]
    filename: Denial_of_paternity
    pdf template file: Denial_of_paternity.pdf
    skip undefined: True
    editable: False
    fields:
      - "child_name_first": ${ child.name.first }
      - "child_name_middle": ${ child.name.middle if child.name.middle != "" else ""}
      - "child_name_last": ${ child.name.last }
      - "child_name_suffix": ${ child.name.suffix if child.name.suffix != "" else ""}
      - "child_dob": ${ child.birth_date}
      - "child_is_male": ${ True if child.gender == "Male" else False}
      - "child_is_female": ${ True if child.gender == "Female" else False}
      - "child_address_one": |
          % if in_hospital == True:
          ${ hospital_name + ", " + child.address.city + ", " + child.address.county + " County, " + child.address.state}
          % else:
          ${child.address.line_one()}
          % endif
      - "child_address_two": ${child.address.city + ", " + child.address.county + " County, " + child.address.state}
      - "husband_name_first": ${husband.name.first}
      - "husband_name_middle": ${husband.name.middle if father.name.middle != "" else ""}
      - "husband_name_last": ${husband.name.last}
      - "husband_name_suffix": ${husband.name.suffix if husband.name.suffix != "" else ""}
      - "husband_birthplace": |
          % if husband.born_in_us == True:
          ${husband.birth_city + ", " + husband.birth_state}
          % else:
          % if husband.birth_unit == "":
          ${husband.birth_address + ", " + husband.birth_city + ", " + husband.birth_country}
          % else:
          ${husband.birth_address + ", " + husband.birth_unit + ", " + husband.birth_city + ", " + husband.birth_country}
          % endif
          % endif
      - "husband_dob": ${husband.birth_date}
      - "husband_ssn": ${husband.ssn}
      - "husband_address_one": ${husband.address.line_one()}
      - "husband_address_two": ${husband.address.line_two()}
      - "husband_phone": ${phone_number_formatted(husband.phone_number)}
      - "mother_name_first": ${mother.name.first}
      - "mother_name_middle": ${mother.name.middle if mother.name.middle != "" else ""}
      - "mother_name_last": ${mother.name.last}
      - "mother_name_maiden": ${mother.maiden_name if mother.changed_name == True else ""}
      - "mother_birthplace": |
          % if mother.born_in_us == True:
          ${mother.birth_city + ", " + mother.birth_state}
          % else:
          % if mother.birth_unit == "":
          ${mother.birth_address + ", " + mother.birth_city + ", " + mother.birth_country}
          % else:
          ${mother.birth_address + ", " + mother.birth_unit + ", " + mother.birth_city + ", " + mother.birth_country}
          % endif
          % endif
      - "mother_dob": ${mother.birth_date}
      - "mother_ssn": ${mother.ssn}
      - "mother_address_one": ${mother.address.line_one()}
      - "mother_address_two": ${mother.address.line_two()}
      - "mother_phone": ${phone_number_formatted(mother.phone_number)}
      - "marriage_date": ${marriage_date}
      - "was_married": ${other_marriage}
      - "was_not_married": ${False if other_marriage == True else True}
      - "husband_name": ${husband.name.full(middle='full')}
      - "husband_witness_name": ${witnesses[3].name.full(middle='full')}
      - "husband_witness_address": ${witnesses[3].address.on_one_line()}
      - "husband_witness_phone": ${phone_number_formatted(witnesses[3].phone_number)}
      - "mother_witness_name": ${witnesses[2].name.full(middle='full')}
      - "mother_witness_address": ${witnesses[2].address.on_one_line()}
      - "mother_witness_phone": ${phone_number_formatted(witnesses[2].phone_number)}
---
attachment:
  - name: instructions
    variable name: instructions[i]
    filename: vap_instructions
    docx template file: vap_instructions.docx
---
objects:
  - vap_form: ALDocument.using(title="Voluntary Acknowledgement of Parentage", filename="vap_form", enabled=True, has_addendum=False)
  - Denial_of_paternity: ALDocument.using(title="Denial of Parentage", filename="Denial_of_paternity", has_addendum=False)
  - instructions: ALDocument.using(title="Instructions", filename="vap_instructions", enabled=True, has_addendum=False)
---
code: |
  Denial_of_paternity.enabled = False
  if other_marriage == True:
    Denial_of_paternity.enabled = True  
---
id: review screen
event: review_answers
question: |
  Review screen
subquestion: |
  Edit your answers below.
review: 
  - Edit: user_gender
    button: |
      **Which parent are you?**
      The ${user_gender}
  - Edit: father.name.first
    button: |
      % if user_gender == "mother":
      **The father's name:**
      % else:
      **Your name:**
      % endif
      ${father.name.full(middle='full')}
  - Edit: mother.name.first
    button: |
      % if user_gender == "father":
      **The mother's name:**
      % else:
      **Your name:**
      % endif
      ${mother.name.full(middle='full')}
  - Edit: child_born
    button: |
      **Has the child been born yet?**
      ${word(yesno(child_born))}
  - Edit: were_married
    button: |
      **Were you married to or in a civil union with ${ other_name} at the time the child was conceived or born?**
      ${word(yesno(were_married))}
  - Edit: other_marriage
    button: |
      % if user_gender == "mother":
      **Were you married to or in a civil union with someone else at the time the child was conceived or born?**
      % else:
      **Was ${other_name} married to or in a civil union with someone else at the time the child was conceived or born?**
      % endif
      ${word(yesno(other_marriage))}
    show if: were_married == False
  - Edit: father.birth_date
    button: |
      % if user_gender == "mother":
      **${father.name.full(middle='full')}'s date of birth:**
      % else:
      **Your date of birth:**
      % endif
      ${father.birth_date}
  - Edit: father.address.address
    button: |
      % if user_gender == "mother":
      **${father.name.full(middle='full')}'s address:**
      % else:
      **Your address:**
      % endif
      ${father.address.on_one_line(bare=True)}
  - Edit: father.ssn
    button: |
      % if user_gender == "mother":
      **${father.name.full(middle='full')}'s Social Security number:**
      % else:
      **Your Social Security number:**
      % endif
      ${father.ssn}
  - Edit: father.phone_number
    button: |
      % if user_gender == "mother":
      **${father.name.full(middle='full')}'s phone number:**
      % else:
      **Your phone number:**
      % endif
      ${phone_number_formatted(father.phone_number)}
  - Edit: father.born_in_us
    button: |
      % if user_gender == "mother":
      **Was ${father.name.full(middle='full')} born in the United States?**
      % else:
      **Were you born in the United States?**
      % endif
      ${word(yesno(father.born_in_us))}
  - Edit: father.birth_state
    button: |
      % if user_gender == "mother":
      **Where was ${ father.name.full(middle='full') } born?**
      % else:
      **Where were you born?**
      % endif
      ${father.birth_city}, ${father.birth_state}
    show if: father.born_in_us
  - Edit: father.birth_country
    button: |
      % if user_gender == "mother":
      **Where was ${ father.name.full(middle='full') } born?**
      % else:
      **Where were you born?**
      % endif
      % if father.birth_unit == "":
      ${father.birth_address}, ${father.birth_city}, ${father.birth_country}
      % else:
      ${father.birth_address}, ${father.birth_unit} ${father.birth_city}, ${father.birth_country}
      % endif
    show if: father.born_in_us == False
  - Edit: mother.birth_date
    button: |
      % if user_gender == "father":
      **${mother.name.full(middle='full')}'s date of birth:**
      % else:
      **Your date of birth:**
      % endif
      ${mother.birth_date}
  - Edit: mother.address.address
    button: |
      % if user_gender == "father":
      **${mother.name.full(middle='full')}'s address:**
      % else:
      **Your address:**
      % endif
      ${mother.address.on_one_line(bare=True)}
  - Edit: mother.ssn
    button: |
      % if user_gender == "father":
      **${mother.name.full(middle='full')}'s Social Security number:**
      % else:
      **Your Social Security number:**
      % endif
      ${mother.ssn}
  - Edit: mother.phone_number
    button: |
      % if user_gender == "father":
      **${mother.name.full(middle='full')}'s phone number:**
      % else:
      **Your phone number:**
      % endif
      ${phone_number_formatted(mother.phone_number)}
  - Edit: mother.changed_name
    button: |
      % if user_gender == "mother":
      **Did you change your surname when you got married or entered into a civil union?**
      % else:
      **Did ${other_name} change her surname when she got married or entered into a civil union?**
      % endif
      ${word(yesno(mother.changed_name))}
    show if: other_marriage
  - Edit: mother.maiden_name
    button: |
      % if user_gender == "mother":
      **What is your maiden name?**
      % else:
      **What is ${mother.name.full(middle='full')}'s maiden name?**
      % endif
      ${mother.maiden_name}
  - Edit: mother.born_in_us
    button: |
      % if user_gender == "father":
      **Was ${mother.name.full(middle='full')} born in the United States?**
      % else:
      **Were you born in the United States?**
      % endif
      ${word(yesno(mother.born_in_us))}
  - Edit: mother.birth_state
    button: |
      % if user_gender == "father":
      **Where was ${ mother.name.full(middle='full') } born?**
      % else:
      **Where were you born?**
      % endif
      ${mother.birth_city}, ${mother.birth_state}
    show if: mother.born_in_us
  - Edit: mother.birth_country
    button: |
      % if user_gender == "father":
      **Where was ${ mother.name.full(middle='full') } born?**
      % else:
      **Where were you born?**
      % endif
      % if mother.birth_unit == "":
      ${mother.birth_address}, ${mother.birth_city}, ${mother.birth_country}
      % else:
      ${mother.birth_address}, ${mother.birth_unit} ${mother.birth_city}, ${mother.birth_country}
      % endif
    show if: mother.born_in_us == False
  - Edit: child.name.first
    button: |
      **The child's name:**
      ${child.name.full(middle='full')}
    show if: child_born
  - Edit: child.gender
    button: |
      **${ child.name.full(middle='full')}'s legal gender:**
      ${child.gender}
    show if: child_born
  - Edit: child.birth_date
    button: |
      **${child.name.full(middle='full')}'s birth date:**
      ${child.birth_date}
    show if: child_born
  - Edit: in_hospital
    button: |
      **Was ${child.name.full(middle='full')} born in a hospital?**
      ${word(yesno(in_hospital))}
    show if: child_born
  - Edit: hospital_name
    button: |
      **${child.name.full(middle='full')}'s birth place:**
      ${hospital_name}, ${child.address.city}, ${child.address.county} County, ${child.address.state}
    show if: child_born == True and in_hospital == True
  - Edit: child.address.address
    button: |
      **${child.name.full(middle='full')}'s birth place:**
      ${child.address.on_one_line(bare=True)}, ${child.address.county} County
    show if: child_born == True and in_hospital == False
  - Edit: husband.name.first
    button: |
      % if user_gender == "mother":
      **Your husband or ex-husband's name:**
      % else:
      **${mother.name.full(middle='full')}'s husband or ex-husband's name:**
      % endif
      ${husband.name.full(middle='full')}
    show if: other_marriage
  - Edit: husband.birth_date
    button: |
      **${husband.name.full(middle='full')}'s date of birth:**
      ${husband.birth_date}
    show if: other_marriage
  - Edit: husband.address.address
    button: |
      **${husband.name.full(middle='full')}'s address:**
      ${father.address.on_one_line(bare=True)}
    show if: other_marriage
  - Edit: husband.ssn
    button: |
      **${husband.name.full(middle='full')}'s Social Security number:**
      ${husband.ssn}
    show if: other_marriage
  - Edit: husband.phone_number
    button: |
      **${husband.name.full(middle='full')}'s phone number:**
      ${phone_number_formatted(husband.phone_number)}
      show if: other_marriage
  - Edit: husband.born_in_us
    button: |
      **Was ${husband.name.full(middle='full')} born in the United States?**
      ${word(yesno(husband.born_in_us))}
    show if: other_marriage
  - Edit: husband.birth_state
    button: |
      **${ husband.name.full(middle='full') }'s birthplace:**
      ${husband.birth_city}, ${husband.birth_state}
    show if: other_marriage == True and husband.born_in_us == True
  - Edit: husband.birth_country
    button: |
      **${ husband.name.full(middle='full') }'s birthplace:**
      % if husband.birth_unit == "":
      ${husband.birth_address}, ${husband.birth_city}, ${husband.birth_country}
      % else:
      ${husband.birth_address}, ${husband.birth_unit} ${husband.birth_city}, ${husband.birth_country}
      % endif
    show if: other_marriage == True and husband.born_in_us == False 
  - Edit: marriage_date
    button: |
      % if user_gender == "mother":
      **Date you and ${husband.name.full(middle='full')} married or entered into a civil union:**
      % else:
      **Date ${mother.name.full(middle='full')} and ${husband.name.full(middle='full')} married or entered into a civil union:**
      % endif
      ${marriage_date}
    show if: other_marriage
  - Edit: witness_check
    button: |
      % if user_gender == "mother":
      **${father.name.full(middle='full')} and you will sign the VAP in front of:**
      % else:
      **${mother.name.full(middle='full')} and you will sign the VAP in front of:**
      % endif
      ${witness_check}
  - Edit: witnesses[0].name.first
    button: |
      % if witness_check == "The same witness":
      % if user_gender == "mother":
      **Name of the witness ${father.name.full(middle='full')} and you will sign in front of:**
      % else:
      **Name of the witness ${mother.name.full(middle='full')} and you will sign in front of:**
      % endif
      % else:
      **Name of the witness you will sign in front of:**
      % endif
      ${witnesses[0].name.full(middle='full')}
  - Edit: witnesses[0].address.address
    button: |
      **${witnesses[0].name.full(middle='full')}'s address:**
      ${witnesses[0].address.on_one_line(bare=True)}
  - Edit: witnesses[0].phone_number
    button: |
      **${witnesses[0].name.full(middle='full')}'s phone number:**
      ${phone_number_formatted(witnesses[0].phone_number)}
  - Edit: witnesses[1].name.first
    button: |
      % if user_gender == "mother":
      **Name of the witness ${father.name.full(middle='full')} will sign in front of:**
      % else:
      **Name of the witness ${mother.name.full(middle='full')} will sign in front of:**
      % endif
      ${witnesses[1].name.full(middle='full')}
    show if: witness_check == "Different witnesses"
  - Edit: witnesses[1].address.address
    button: |
      **${witnesses[1].name.full(middle='full')}'s address:**
      ${witnesses[1].address.on_one_line(bare=True)}
    show if: witness_check  == "Different witnesses"
  - Edit: witnesses[1].phone_number
    button: |
      **${witnesses[1].name.full(middle='full')}'s phone number:**
      ${phone_number_formatted(witnesses[1].phone_number)}
    show if: witness_check == "Different witnesses"
  - Edit: denial_witness_check
    button: |
      % if user_gender == "mother":
      **${husband.name.full(middle='full')}} and you will sign the Denial of Parentage in front of:
      % else:
      **${mother.name.full(middle='full')} and ${husband.name.full(middle='full')} will sign the Denial of Parentage in front of:**
      % endif
      ${denial_witness_check}
    show if: other_marriage
  - Edit: witnesses[2].name.first
    button: |
      % if denial_witness_check == "The same witness":
      % if user_gender == "mother":
      **Name of the witness ${husband.name.full(middle='full')} and you will sign the Denial of Parentage in front of:**
      % else:
      **Name of the witness ${mother.name.full(middle='full')} and ${husband.name.full(middle='full')} will sign the Denial of Parentage in front of:**
      % endif
      % else:
      % if user_gender == "mother":
      **Name of the witness you will sign the Denial of Parentage in front of:**
      % else:
      **Name of the witness${mother.name.full(middle='full')} will sign the Denial of Parentage in front of:**
      % endif
      % endif
      ${witnesses[2].name.full(middle='full')}
    show if: other_marriage   
  - Edit: witnesses[2].address.address
    button: |
      **${witnesses[2].name.full(middle='full')}'s address:**
      ${witnesses[2].address.on_one_line(bare=True)}
    show if: other_marriage
  - Edit: witnesses[2].phone_number
    button: |
      **${witnesses[2].name.full(middle='full')}'s phone number:**
      ${phone_number_formatted(witnesses[2].phone_number)}
    show if: other_marriage
  - Edit: witnesses[3].name.first
    button: |
      **Name of the witness ${husband.name.full(middle='full')} will sign the Denial of Parentage in front of:**
      ${witnesses[3].name.full(middle='full')}
    show if: other_marriage == True and denial_witness_check == "Different witnesses" 
  - Edit: witnesses[3].address.address
    button: |
      **${witnesses[3].name.full(middle='full')}'s address:**
      ${witnesses[3].address.on_one_line(bare=True)}
    show if: other_marriage == True and denial_witness_check == "Different witnesses"
  - Edit: witnesses[3].phone_number
    button: |
      **${witnesses[3].name.full(middle='full')}'s phone number:**
      ${phone_number_formatted(witnesses[3].phone_number)}
    show if: other_marriage == True and denial_witness_check == "Different witnesses"